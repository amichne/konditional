{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Konditional","text":"<p>Type-safe feature flags for Kotlin that won't break in production.</p> <p>Konditional prevents the entire class of runtime errors that come from stringly-typed feature flag systems: typos that ship to production, type coercion failures, inconsistent ramp-up logic, and configuration drift.</p> <pre><code>object AppFlags : Namespace(\"app\") {\n    val checkoutVersion by string(default = \"classic\") {\n        rule(\"optimized\") { platforms(Platform.IOS, Platform.ANDROID) }\n        rule(\"experimental\") { rampUp { 50.0 } }\n    }\n}\n\n// Typos don't compile. Types are guaranteed. Ramp-ups are deterministic.\nval version: String = AppFlags.checkoutVersion.evaluate(ctx)\n</code></pre>"},{"location":"#why-konditional","title":"Why Konditional?","text":"<p>Traditional feature flag SDKs use string keys:</p> <pre><code>val enabled = flagClient.getBool(\"new_onboaring_flow\", false)  // typo ships to production\n</code></pre> <p>This compiles. It deploys. Your experiment silently fails. You discover it weeks later.</p> <p>Konditional makes flags compile-time correct:</p> <pre><code>val version = AppFlags.checkoutVersion.evaluate(ctx)  // property access is compile-time checked\n// AppFlags.checkotuVersion.evaluate(ctx)              // doesn't compile (typo)\n</code></pre> <p>Beyond typo safety, Konditional gives you:</p> <ul> <li>Typed values \u2014 not just booleans, but strings, ints, doubles, enums, and custom types</li> <li>Deterministic ramp-ups \u2014 SHA-256 bucketing ensures same user \u2192 same bucket, always</li> <li>Unified evaluation \u2014 one rule DSL across your entire codebase, not per-domain evaluators</li> <li>Explicit boundaries \u2014 parse JSON configuration with validation; reject invalid updates before they affect   production</li> </ul> <p>Read the full argument: Why Konditional Exists</p>"},{"location":"#installation","title":"Installation","text":"<pre><code>dependencies {\n    implementation(\"io.github.amichne:konditional:0.0.1\")\n}\n</code></pre>"},{"location":"#quick-start","title":"Quick Start","text":""},{"location":"#define-flags-as-properties","title":"Define flags as properties","text":"<pre><code>object AppFeatures : Namespace(\"app\") {\n    val darkMode by boolean(default = false) {\n        rule(true) { platforms(Platform.IOS) }\n        rule(true) { rampUp { 50.0 } }\n    }\n\n    val apiEndpoint by string(default = \"https://api.example.com\") {\n        rule(\"https://api-web.example.com\") { platforms(Platform.WEB) }\n    }\n\n    val maxRetries by integer(default = 3) {\n        rule(5) { versions { min(2, 0, 0) } }\n    }\n}\n</code></pre>"},{"location":"#evaluate-with-context","title":"Evaluate with context","text":"<pre><code>val ctx = Context(\n    locale = AppLocale.UNITED_STATES,\n    platform = Platform.IOS,\n    appVersion = Version.of(2, 1, 0),\n    stableId = StableId.of(\"user-123\")\n)\n\nval enabled: Boolean = AppFeatures.darkMode.evaluate(ctx)\nval endpoint: String = AppFeatures.apiEndpoint.evaluate(ctx)\nval retries: Int = AppFeatures.maxRetries.evaluate(ctx)\n</code></pre> <p>Evaluation is total: if no rule matches, the default is returned. No nulls, no exceptions.</p>"},{"location":"#beyond-booleans-typed-values","title":"Beyond Booleans: Typed Values","text":""},{"location":"#stop-encoding-variants-as-multiple-booleans","title":"Stop encoding variants as multiple booleans","text":"<p>Before (boolean explosion):</p> <pre><code>if (isEnabled(CHECKOUT_V1) &amp;&amp; !isEnabled(CHECKOUT_V2)) {\n    // v1 logic\n} else if (isEnabled(CHECKOUT_V2) &amp;&amp; !isEnabled(CHECKOUT_FAST_PATH)) {\n    // v2 without fast path\n} else if (isEnabled(CHECKOUT_V3) || isEnabled(CHECKOUT_FAST_PATH)) {\n    // which logic wins?\n}\n</code></pre> <p>After (typed values):</p> <pre><code>object CheckoutFlags : Namespace(\"checkout\") {\n    val checkoutVersion by string(default = \"v1\") {\n        rule(\"v2\") { rampUp { 33.0 } }\n        rule(\"v3\") { rampUp { 66.0 } }\n    }\n}\n\nwhen (CheckoutFlags.checkoutVersion.evaluate(ctx)) {\n    \"v1\" -&gt; v1Checkout()\n    \"v2\" -&gt; v2Checkout()\n    \"v3\" -&gt; v3Checkout()\n}\n</code></pre>"},{"location":"#enums","title":"Enums","text":"<pre><code>enum class Theme { LIGHT, DARK, AUTO }\n\nobject ThemeFlags : Namespace(\"theme\") {\n    val theme by enum(default = Theme.LIGHT) {\n        rule(Theme.DARK) { platforms(Platform.IOS) }\n    }\n}\n</code></pre>"},{"location":"#custom-structured-values","title":"Custom structured values","text":"<pre><code>data class RetryPolicy(\n    val maxAttempts: Int = 3,\n    val backoffMs: Double = 1000.0,\n    val enabled: Boolean = true\n) : KotlinEncodeable&lt;ObjectSchema&gt; {\n    override val schema = schemaRoot {\n        ::maxAttempts of { minimum = 1 }\n        ::backoffMs of { minimum = 0.0 }\n        ::enabled of { default = true }\n    }\n}\n\nobject PolicyFlags : Namespace(\"policy\") {\n    val retryPolicy by custom(default = RetryPolicy()) {\n        rule(RetryPolicy(maxAttempts = 5, backoffMs = 2000.0)) { platforms(Platform.WEB) }\n    }\n}\n</code></pre> <p>Note: custom structured values are decoded via reflection at the JSON boundary; keep constructor parameter names stable and provide defaults for optional fields. If you use code shrinking/obfuscation, keep constructor parameter names and ensure Kotlin reflection is available at runtime.</p>"},{"location":"#deterministic-ramp-ups","title":"Deterministic Ramp-ups","text":"<p>Ramp-ups use SHA-256 bucketing for consistent, reproducible results:</p> <pre><code>object RampUpFlags : Namespace(\"ramp-up\") {\n    val newFeature by boolean(default = false) {\n        rule(true) { rampUp { 25.0 } }\n    }\n}\n</code></pre> <p>Guarantees:</p> <ul> <li>Same user + same flag + same percentage \u2192 same bucket</li> <li>Increasing 10% \u2192 20% only adds users (no reshuffle) for the same <code>(stableId, flagKey, salt)</code></li> <li>Ramp-up decisions are reproducible (<code>stableId</code> + flag key + salt \u2192 deterministic bucket)</li> <li>Changing <code>salt(...)</code> intentionally redistributes buckets (useful when re-running experiments)</li> </ul> <p>No random number generators. No modulo edge cases. No per-team ramp-up implementations with subtle differences.</p>"},{"location":"#remote-configuration","title":"Remote Configuration","text":""},{"location":"#load-configuration-from-json","title":"Load configuration from JSON","text":"<pre><code>val json = fetchRemoteConfig()\n\n// Important: deserialization requires that your Namespace objects have been initialized\n// (so features are registered) before calling SnapshotSerializer.fromJson(...).\n// See: 06-remote-config.md\n\nwhen (val result = SnapshotSerializer.fromJson(json)) {\n    is ParseResult.Success -&gt; AppFlags.load(result.value)\n    is ParseResult.Failure -&gt; {\n        // Invalid JSON rejected, last-known-good remains active\n        logError(\"Config parse failed: ${result.error.message}\")\n    }\n}\n</code></pre> <p>The boundary is explicit: Parse failures don't crash your app or silently corrupt evaluation. Bad config is rejected; the previous working config stays active.</p>"},{"location":"#serialize-current-configuration","title":"Serialize current configuration","text":"<pre><code>val snapshot = SnapshotSerializer.serialize(AppFlags.configuration)\npersistToStorage(snapshot)\n</code></pre>"},{"location":"#incremental-updates-patches","title":"Incremental updates (patches)","text":"<pre><code>val patchJson = fetchPatch()\nval currentConfig = AppFlags.configuration\n\nwhen (val result = SnapshotSerializer.applyPatchJson(currentConfig, patchJson)) {\n    is ParseResult.Success -&gt; AppFlags.load(result.value)\n    is ParseResult.Failure -&gt; logError(\"Patch failed: ${result.error.message}\")\n}\n</code></pre> <p>See 06-remote-config.md and 08-persistence-format.md for details.</p>"},{"location":"#thread-safety","title":"Thread Safety","text":"<ul> <li>Atomic updates: <code>Namespace.load()</code> swaps configuration atomically</li> <li>Lock-free reads: Evaluation reads a snapshot without blocking writers</li> <li>No races: Multiple threads can evaluate flags concurrently while configuration updates happen in the background</li> </ul>"},{"location":"#namespaces-optional-isolation","title":"Namespaces (Optional Isolation)","text":"<p>If you need isolated registries (e.g., per-team, per-domain), define multiple namespaces:</p> <pre><code>sealed class AppDomain(id: String) : Namespace(id) {\n    data object Account : AppDomain(\"account\") {\n        val creditCheck by boolean(default = false)\n    }\n\n    data object Payments : AppDomain(\"payments\") {\n        val stripeEnabled by boolean(default = true)\n    }\n}\n</code></pre> <p>Each namespace has independent configuration lifecycle, registry, and serialization.</p>"},{"location":"#core-concepts","title":"Core Concepts","text":"<ul> <li>Namespace: Isolation boundary with its own registry and configuration lifecycle</li> <li>Flags: Delegated properties defined on a namespace</li> <li>Context: Runtime inputs for evaluation (<code>locale</code>, <code>platform</code>, <code>appVersion</code>, <code>stableId</code>)</li> <li>Rules: Typed criteria-to-value mappings (<code>platforms/locales/versions/rampUp/extension</code>)</li> <li>Snapshot/Patch: JSON formats for persistence and incremental updates</li> <li>Total evaluation: No nulls\u2014every flag returns its default if no rule matches</li> </ul>"},{"location":"#documentation","title":"Documentation","text":"<p>Getting started:</p> <ul> <li>Quick Start Guide</li> <li>Core Concepts</li> </ul> <p>Features:</p> <ul> <li>Targeting &amp; Ramp-ups</li> <li>Evaluation Semantics</li> <li>Remote Configuration</li> <li>Persistence Format</li> </ul> <p>Why Konditional:</p> <ul> <li>Why Konditional Exists \u2014 The compelling argument</li> </ul>"},{"location":"#what-konditional-prevents","title":"What Konditional Prevents","text":"<p>Typos that ship to production:</p> <pre><code>flagClient.getBool(\"new_onboaring_flow\", false)  // compiles, deploys, fails silently\nAppFlags.newOnboaringFlow                        // compile error\n</code></pre> <p>Type coercion incidents:</p> <pre><code>// JSON: {\"max_retries\": \"disabled\"}\nflagClient.getInt(\"max_retries\", 3)  // returns 0, service fails immediately\nAppFlags.maxRetries                  // parse fails at boundary, last-known-good stays active\n</code></pre> <p>Boolean explosion:</p> <pre><code>// Before: 5 boolean flags \u2192 2^5 = 32 test cases, most undefined\n// After: 1 typed enum flag \u2192 5 explicit variants, all defined\n</code></pre> <p>Inconsistent ramp-up logic:</p> <pre><code>// Before: Account team uses modulo, Payments team uses random(), different bucketing\n// After: All flags use SHA-256 bucketing, same user \u2192 same bucket across all flags\n</code></pre> <p>Read more: Real Problems Konditional Prevents</p>"},{"location":"#when-to-use-konditional","title":"When to Use Konditional","text":"<p>Choose Konditional when:</p> <ul> <li>You want compile-time correctness for flag definitions and callsites</li> <li>You need typed values beyond booleans (variants, thresholds, structured config)</li> <li>You run experiments and need deterministic, reproducible ramp-ups</li> <li>You value consistency over bespoke per-domain solutions</li> <li>You have remote configuration and want explicit validation boundaries</li> </ul> <p>Konditional might not fit if:</p> <ul> <li> <p>You need vendor-hosted dashboards more than compile-time safety</p> </li> <li> <p>Your flags are fully dynamic with zero static definitions</p> </li> <li> <p>You're okay with process/tooling to prevent string key drift</p> </li> </ul>"},{"location":"#license","title":"License","text":"<p>MIT. See LICENSE.</p>"},{"location":"core-concepts/","title":"Core Concepts","text":"<p>Konditional\u2019s public surface is intentionally small. Understanding three primitives\u2014Features, Context, and * Namespaces*\u2014is enough to reason about correctness, organization, and runtime behavior.</p> <pre><code>flowchart TD\n    N[\"Namespace\"] --&gt; R[\"Registry\"]\n    N --&gt; F[\"Feature (typed)\"]\n    F --&gt; D[\"Default (required)\"]\n    F --&gt; Rules[\"Rules\"]\n    Rules --&gt; Rule[\"rule(value) { ... }\"]\n    Rule --&gt; Criteria[\"platforms/locales/versions/axis/rampUp/allowlist/extension\"]\n    X[\"Context\"] --&gt; Rule</code></pre>"},{"location":"core-concepts/#features","title":"Features","text":"<p>A feature is a typed configuration value with an optional rule set. You define features as delegated properties on a <code>Namespace</code>:</p> <pre><code>import io.amichne.konditional.api.evaluate\nimport io.amichne.konditional.context.Context\nobject AppFeatures : Namespace(\"app\") {\n    val darkMode by boolean&lt;Context&gt;(default = false)\n    val apiEndpoint by string&lt;Context&gt;(default = \"https://api.example.com\")\n    val maxRetries by integer&lt;Context&gt;(default = 3)\n    val timeoutSeconds by double&lt;Context&gt;(default = 30.0)\n}\n\nval enabled: Boolean = AppFeatures.darkMode.evaluate(context)\nval endpoint: String = AppFeatures.apiEndpoint.evaluate(context)\n</code></pre> <p>What this buys you:</p> <ul> <li>Property name becomes the key (no string keys at call sites)</li> <li>Type flows from the delegate (<code>boolean</code> \u2192 <code>Boolean</code>, etc.)</li> <li>Non-null evaluation (default is required)</li> </ul>"},{"location":"core-concepts/#supported-types","title":"Supported types","text":"Type Namespace method Kotlin type Example default Boolean <code>boolean(...)</code> <code>Boolean</code> <code>false</code> String <code>string(...)</code> <code>String</code> <code>\"production\"</code> Integer <code>integer(...)</code> <code>Int</code> <code>42</code> Decimal <code>double(...)</code> <code>Double</code> <code>3.14</code> Enum <code>enum(...)</code> <code>E : Enum&lt;E&gt;</code> <code>LogLevel.INFO</code> Data class <code>custom(...)</code> <code>T : KotlinEncodeable&lt;ObjectSchema&gt;</code> <code>MyConfig()</code> <p>Custom data classes are decoded via Kotlin reflection at the JSON boundary. Ensure Kotlin reflection is available at runtime (Konditional bundles it), and keep constructor parameter names stable when using obfuscation.</p>"},{"location":"core-concepts/#enums-instead-of-strings","title":"Enums instead of strings","text":"<pre><code>enum class LogLevel { DEBUG, INFO, WARN, ERROR }\nenum class Theme { LIGHT, DARK, AUTO }\n\nobject AppConfig : Namespace(\"app-config\") {\n    val LOG_LEVEL by enum&lt;LogLevel, Context&gt;(default = LogLevel.INFO)\n    val THEME by enum&lt;Theme, Context&gt;(default = Theme.LIGHT)\n}\n\nval level: LogLevel = AppConfig.LOG_LEVEL.evaluate(context)\n</code></pre> <p>Because variants are enum values, invalid variants cannot compile.</p>"},{"location":"core-concepts/#rules","title":"Rules","text":"<p>Rules are a typed mapping from a set of criteria to a concrete return value:</p> <pre><code>val apiEndpoint by string&lt;Context&gt;(default = \"https://api.example.com\") {\n    rule(\"https://api-ios.example.com\") { platforms(Platform.IOS) }\n    rule(\"https://api-android.example.com\") { platforms(Platform.ANDROID) }\n}\n</code></pre> <p>Criteria you can compose (within a single rule):</p> <ul> <li><code>platforms(...)</code></li> <li><code>locales(...)</code></li> <li><code>versions { min(...); max(...) }</code></li> <li><code>rampUp { percent }</code></li> <li><code>allowlist(...)</code> (ramp-up bypass)</li> <li><code>axis(...)</code> (dimensional targeting)</li> <li><code>extension { ... }</code> for custom predicates</li> </ul> <p>Within a rule, criteria combine as AND: all specified criteria must match for the rule to match.</p>"},{"location":"core-concepts/#custom-predicates-via-extension","title":"Custom predicates via <code>extension { }</code>","text":"<p>To keep business targeting logic typed (not string-based), define a custom <code>Context</code> and use <code>extension { }</code>:</p> <pre><code>data class EnterpriseContext(\n    override val locale: AppLocale,\n    override val platform: Platform,\n    override val appVersion: Version,\n    override val stableId: StableId,\n    val subscriptionTier: SubscriptionTier,\n    val employeeCount: Int\n) : Context\n\nenum class SubscriptionTier { FREE, PRO, ENTERPRISE }\n\nobject PremiumFeatures : Namespace(\"premium\") {\n    val ADVANCED_ANALYTICS by boolean&lt;EnterpriseContext&gt;(default = false) {\n        rule(true) {\n            extension { subscriptionTier == SubscriptionTier.ENTERPRISE &amp;&amp; employeeCount &gt; 100 }\n        }\n    }\n}\n</code></pre> <p>Because the feature is parameterized with <code>EnterpriseContext</code>, the receiver inside <code>extension { ... }</code> is strongly typed.</p>"},{"location":"core-concepts/#context","title":"Context","text":"<p>Context provides evaluation inputs: it tells Konditional who is asking and where they are.</p> <p><code>locale</code> and <code>platform</code> are modeled as stable identifiers via <code>LocaleTag</code> and <code>PlatformTag</code>. Use the built-in <code>AppLocale</code> / <code>Platform</code> enums or supply your own types with stable <code>id</code> values.</p> <p>Standard fields (the minimum required by the rule DSL):</p> <pre><code>val context = Context(\n    locale = AppLocale.UNITED_STATES,\n    platform = Platform.IOS,\n    appVersion = Version.of(2, 1, 0),\n    stableId = StableId.of(\"user-123\"),\n)\n</code></pre>"},{"location":"core-concepts/#stableid-deterministic-ramp-ups","title":"StableId (deterministic ramp-ups)","text":"<p><code>stableId</code> is a stable identifier used for deterministic bucketing. <code>StableId.of(...)</code> accepts any non-blank string and normalizes it to a hex representation used for bucketing.</p> <pre><code>val id = StableId.of(\"user-123\")\n</code></pre> <p>If you need cross-platform consistency, ensure all platforms pass the same canonical stable identifier string into <code>StableId.of(...)</code> (it lowercases using <code>Locale.ROOT</code>). Use <code>StableId.fromHex(...)</code> when you already have a canonical hex identifier.</p>"},{"location":"core-concepts/#namespaces","title":"Namespaces","text":"<p>Namespaces are isolation boundaries: each namespace has its own registry and independent configuration lifecycle. Define multiple namespaces when you need more isolation boundaries.</p> <pre><code>sealed class AppDomain(id: String) : Namespace(id) {\n    data object Auth : AppDomain(\"auth\") {\n        val socialLogin by boolean&lt;Context&gt;(default = false)\n        val twoFactorAuth by boolean&lt;Context&gt;(default = true)\n    }\n\n    data object Payments : AppDomain(\"payments\") {\n        val applePay by boolean&lt;Context&gt;(default = false)\n        val stripeIntegration by boolean&lt;Context&gt;(default = true)\n    }\n}\n\nAppDomain.Auth.load(authConfig)\nAppDomain.Payments.load(paymentConfig)\n</code></pre>"},{"location":"core-concepts/#custom-namespaces-governance","title":"Custom namespaces (governance)","text":"<pre><code>sealed class TeamDomain(id: String) : Namespace(id) {\n    data object Recommendations : TeamDomain(\"recommendations\") {\n        val COLLABORATIVE_FILTERING by boolean(default = true)\n    }\n\n    data object Analytics : TeamDomain(\"analytics\")\n}\n</code></pre> <pre><code>TeamDomain.Recommendations.COLLABORATIVE_FILTERING.evaluate(context)\n</code></pre> <p>Each namespace has independent configuration lifecycle, registry, and serialization.</p>"},{"location":"core-concepts/#type-safety-in-action-what-becomes-impossible","title":"Type safety in action (what becomes impossible)","text":""},{"location":"core-concepts/#wrong-value-type-at-call-site","title":"Wrong value type at call site","text":"<pre><code>object Config : Namespace(\"config\") {\n    val maxRetries by integer&lt;Context&gt;(default = 3)\n}\n\nval retries: Int = Config.maxRetries.evaluate(context)\n</code></pre>"},{"location":"core-concepts/#wrong-context-type-for-a-feature","title":"Wrong context type for a feature","text":"<pre><code>val basicContext: Context = Context(...)\nPremiumFeatures.ADVANCED_ANALYTICS.evaluate(basicContext) // Compile error (requires EnterpriseContext)\n</code></pre>"},{"location":"core-concepts/#next-steps","title":"Next steps","text":"<ul> <li>Understand rule composition and ramp-ups: \"Targeting &amp; Ramp-ups\"</li> <li>Understand evaluation order and determinism: \"Evaluation\"</li> <li>Understand the runtime JSON boundary: \"Remote Configuration\"</li> </ul>"},{"location":"evaluation/","title":"Evaluation","text":""},{"location":"evaluation/#konditional-evaluation-is-designed-to-be-predictable","title":"Konditional evaluation is designed to be predictable","text":"<ul> <li>Total \u2014 Evaluation always returns a value (rule value or default).</li> <li>Deterministic \u2014 The same inputs produce the same outputs.</li> <li>Non-null \u2014 Defaults are required, so evaluation does not return <code>T?</code>.</li> </ul>"},{"location":"evaluation/#featureevaluatecontext-recommended","title":"<code>Feature.evaluate(context)</code> (recommended)","text":"<p>Concise evaluation with an explicit context:</p> <pre><code>val darkMode = Features.darkMode.evaluate(context)\napplyDarkMode(darkMode)\n</code></pre> <p>Use this when:</p> <ul> <li>defaults are meaningful</li> <li>you want the smallest call-site surface</li> </ul> <p>Evaluation is always via <code>Feature.evaluate(...)</code> (or <code>evaluateWithReason(...)</code>) and requires an explicit <code>Context</code>.</p>"},{"location":"evaluation/#explain-trace-operational-debugging","title":"Explain / trace (operational debugging)","text":"<p>When you need to diagnose a specific user\u2019s outcome, evaluate with a structured reason:</p> <pre><code>val result = Features.darkMode.evaluateWithReason(context)\nprintln(result.decision)\n</code></pre> <p><code>EvaluationResult</code> includes:</p> <ul> <li>decision kind (rule/default/inactive/disabled)</li> <li>matched rule constraints + specificity</li> <li>deterministic ramp-up bucket information</li> </ul>"},{"location":"evaluation/#evaluation-flow","title":"Evaluation flow","text":"<pre><code>flowchart TD\n    Start[\"Context available\"] --&gt; Lookup[\"Registry lookup\"]\n    Lookup --&gt; Disabled{Registry disabled?}\n    Disabled --&gt;|Yes| Default0[\"Return default\"]\n    Disabled --&gt;|No| Active{Flag active?}\n    Active --&gt;|No| Default1[\"Return default\"]\n    Active --&gt;|Yes| Sort[\"Sort rules by specificity\"]\n    Sort --&gt; Next{Next rule?}\n    Next --&gt;|No| Default2[\"Return default\"]\n    Next --&gt;|Yes| Match{All criteria match?}\n    Match --&gt;|No| Next\n    Match --&gt;|Yes| Roll{In ramp-up or allowlisted?}\n    Roll --&gt;|No| Next\n    Roll --&gt;|Yes| Value[\"Return rule value\"]\n    style Default0 fill: #fff3cd\n    style Default1 fill: #fff3cd\n    style Default2 fill: #fff3cd\n    style Value fill: #c8e6c9</code></pre>"},{"location":"evaluation/#emergency-kill-switch-namespace-scoped","title":"Emergency kill switch (namespace-scoped)","text":"<pre><code>Features.disableAll()\n// ... all evaluations in this namespace return declared defaults ...\nFeatures.enableAll()\n</code></pre>"},{"location":"evaluation/#bucketing-utility-ramp-up-debugging","title":"Bucketing utility (ramp-up debugging)","text":"<pre><code>val info = RampUpBucketing.explain(\n    stableId = context.stableId,\n    featureKey = Features.darkMode.key,\n    salt = Features.flag(Features.darkMode).salt,\n    rampUp = RampUp.of(10.0),\n)\nprintln(info)\n</code></pre>"},{"location":"evaluation/#rule-matching-and-semantics","title":"Rule matching (AND semantics)","text":"<p>All specified criteria must match; empty constraint sets match everything.</p> <p>Evaluation applies the first matching rule that is in-ramp-up (or allowlisted), otherwise it falls back to the default.</p>"},{"location":"evaluation/#specificity-ordering-most-specific-wins","title":"Specificity ordering (most specific wins)","text":"<p>Rules are sorted by targeting specificity (platforms/locales/version bounds/axes) plus extension specificity. Ramp-up percentage does not affect specificity; it gates whether a matching rule is applied.</p>"},{"location":"evaluation/#performance-model","title":"Performance model","text":"<p>The evaluation path is designed to be predictable:</p> <ul> <li>Registry lookup: O(1)</li> <li>Rule iteration: O(n) where n is rules per flag (typically small)</li> <li>Ramp-up bucketing: 0 or 1 SHA-256 hash per evaluation (bucket is computed only after a rule matches by criteria)</li> </ul> <p>Space model:</p> <ul> <li>evaluation allocates a small trace object internally and may allocate for hashing inputs</li> <li>rule structures are pre-built and reused across evaluations</li> </ul>"},{"location":"evaluation/#concurrency-model","title":"Concurrency model","text":"<p>Evaluation is designed for concurrent reads:</p> <ul> <li>Lock-free reads: evaluation does not require synchronization.</li> <li>Atomic updates: configuration updates swap the active snapshot atomically (<code>Namespace.load</code>).</li> </ul> <pre><code>// Thread 1\nFeatures.load(newConfig)\n\n// Thread 2 (during update)\nval value = Features.darkMode.evaluate(context) // sees old OR new, never a mixed state\n</code></pre>"},{"location":"evaluation/#testing-evaluation","title":"Testing evaluation","text":""},{"location":"evaluation/#rule-matching","title":"Rule matching","text":"<pre><code>@Test\nfun `iOS users in US get dark mode`() {\n    val context = Context(\n        locale = AppLocale.UNITED_STATES,\n        platform = Platform.IOS,\n        appVersion = Version.of(2, 1, 0),\n        stableId = StableId.of(\"user-123\"),\n    )\n\n    val enabled = Features.darkMode.evaluate(context)\n    assertTrue(enabled)\n}\n</code></pre>"},{"location":"evaluation/#determinism","title":"Determinism","text":"<pre><code>@Test\nfun `evaluation is deterministic`() {\n    val context = Context(/*...*/)\n    val results = (1..100).map { Features.darkMode.evaluate(context) }\n    assertTrue(results.distinct().size == 1, \"Non-deterministic!\")\n}\n</code></pre>"},{"location":"evaluation/#ramp-up-distribution-statistical-sanity-check","title":"Ramp-up distribution (statistical sanity check)","text":"<pre><code>@Test\nfun `50 percent ramp-up distributes correctly`() {\n    val sampleSize = 10_000\n    val enabled = (0 until sampleSize).count { i -&gt;\n        val ctx = Context(/*..., */\n                          stableId = StableId.of(i.toString(16).padStart(32, '0'))\n        )\n        Features.rampUpFlag.evaluate(ctx)\n    }\n\n    val percentage = (enabled.toDouble() / sampleSize) * 100\n    assertTrue(percentage in 48.0..52.0)\n}\n</code></pre>"},{"location":"evaluation/#guarantees-and-boundaries","title":"Guarantees (and boundaries)","text":"Aspect Guarantee Boundary Type safety return type matches definition compile-time for statically-defined flags Non-null evaluation never returns null relies on required defaults Determinism same inputs \u2192 same outputs excludes malformed runtime JSON (see remote config) Updates atomic swap of configuration correctness depends on using <code>Namespace.load</code>"},{"location":"evaluation/#next-steps","title":"Next steps","text":"<ul> <li>Understand ramp-ups and bucketing inputs: \"Targeting &amp; Ramp-ups\"</li> <li>Add runtime-validated JSON configuration: \"Remote Configuration\"</li> </ul>"},{"location":"getting-started/","title":"Getting Started","text":"<p>Konditional is a Kotlin feature-flag DSL designed to make configuration typed, deterministic, and non-null. The core claim is precise: statically-defined flags have compile-time type correctness, and evaluation is total (you always get a value back).</p>"},{"location":"getting-started/#why-konditional-and-what-it-actually-guarantees","title":"Why Konditional (and what it actually guarantees)","text":"<p>Most flag systems are stringly-typed: a string key selects a value and the caller chooses a \u201ctyped getter\u201d. That architecture creates three failure modes that are syntactically valid but semantically wrong at runtime: key typos, type mismatches, and null propagation.</p> <p>Konditional changes the failure surface by binding identity and type at definition time via Kotlin properties:</p> <ul> <li>No string keys at call sites: flags are accessed as properties (typos become compile errors).</li> <li>No casts at call sites: the return type flows from the flag definition (mismatched types become compile errors).</li> <li>No nulls from evaluation: defaults are required, so evaluation has a total return path.</li> </ul> <pre><code>flowchart LR\n    Def[\"Flag defined as a property\"] --&gt; Bound[\"Key + type bound at compile-time\"]\n    Bound --&gt; Eval[\"Evaluation\"]\n    Eval --&gt;|Rule matches| Value[\"Rule value\"]\n    Eval --&gt;|No match| Default[\"Declared default\"]\n    style Bound fill: #e1f5ff\n    style Default fill: #fff3cd\n    style Value fill: #c8e6c9</code></pre>"},{"location":"getting-started/#installation","title":"Installation","text":"<pre><code>// build.gradle.kts\ndependencies {\n    implementation(\"io.github.amichne:konditional:0.0.1\")\n}\n</code></pre>"},{"location":"getting-started/#your-first-flag","title":"Your first flag","text":"<p>Define a flag as a delegated property on a <code>Namespace</code>:</p> <pre><code>import io.amichne.konditional.api.evaluate\nimport io.amichne.konditional.core.Namespace\nimport io.amichne.konditional.context.*\nimport io.amichne.konditional.core.id.StableId\n\nobject AppFeatures : Namespace(\"app\") {\n    val darkMode by boolean&lt;Context&gt;(default = false) {\n        rule(true) {\n            platforms(Platform.IOS)\n            rampUp { 50.0 }\n        }\n    }\n}\n\nval context = Context(\n    locale = AppLocale.UNITED_STATES,\n    platform = Platform.IOS,\n    appVersion = Version.of(2, 1, 0),\n    stableId = StableId.of(\"user-123\"),\n)\n\nval enabled: Boolean = AppFeatures.darkMode.evaluate(context)\n</code></pre> <p>Notes:</p> <ul> <li>Evaluation is total for declared features: <code>evaluate(context)</code> always returns the flag\u2019s declared Kotlin type (never   null).</li> <li>Use <code>evaluateWithReason(context)</code> when you need operational traceability (\u201cwhy did I get this value?\u201d).</li> <li><code>AppLocale</code> and <code>Platform</code> are defaults; you can supply your own locale/platform types by implementing   <code>LocaleTag</code> / <code>PlatformTag</code> with stable <code>id</code> values.</li> </ul>"},{"location":"getting-started/#a-small-api-surface-intentionally","title":"A small API surface, intentionally","text":"<p>Supported value types (out of the box):</p> Type Namespace method Kotlin type Example default Boolean <code>boolean(...)</code> <code>Boolean</code> <code>false</code> String <code>string(...)</code> <code>String</code> <code>\"production\"</code> Integer <code>integer(...)</code> <code>Int</code> <code>42</code> Decimal <code>double(...)</code> <code>Double</code> <code>3.14</code> Enum <code>enum(...)</code> <code>E : Enum&lt;E&gt;</code> <code>LogLevel.INFO</code> Data class <code>custom(...)</code> <code>T : KotlinEncodeable&lt;ObjectSchema&gt;</code> <code>MyConfig()</code>"},{"location":"getting-started/#common-patterns","title":"Common patterns","text":""},{"location":"getting-started/#gradual-ramp-up-deterministic","title":"Gradual ramp-up (deterministic)","text":"<pre><code>val newCheckout by boolean&lt;Context&gt;(default = false) {\n    rule(true) {\n        platforms(Platform.ANDROID)\n        rampUp { 10.0 }\n    }\n}\n</code></pre> <p>Konditional\u2019s ramp-ups are deterministic: the same <code>(stableId, flagKey, salt)</code> yields the same bucket assignment.</p>"},{"location":"getting-started/#platform-specific-configuration","title":"Platform-specific configuration","text":"<pre><code>val apiEndpoint by string&lt;Context&gt;(default = \"https://api.example.com\") {\n    rule(\"https://api-ios.example.com\") { platforms(Platform.IOS) }\n    rule(\"https://api-android.example.com\") { platforms(Platform.ANDROID) }\n    rule(\"https://api-web.example.com\") { platforms(Platform.WEB) }\n}\n</code></pre>"},{"location":"getting-started/#ramp-up-allowlisting-internal-testers","title":"Ramp-up allowlisting (internal testers)","text":"<p>Allowlists bypass ramp-up after a rule matches by criteria:</p> <pre><code>val newUi by boolean&lt;Context&gt;(default = false) {\n    allowlist(StableId.of(\"tester-1\"))\n    rule(true) { rampUp { 5.0 } }\n}\n</code></pre>"},{"location":"getting-started/#variants-via-enums-not-strings","title":"Variants via enums (not strings)","text":"<pre><code>enum class Theme { LIGHT, DARK }\n\nval theme by enum&lt;Theme, Context&gt;(default = Theme.LIGHT) {\n    rule(Theme.DARK) { platforms(Platform.IOS) }\n}\n</code></pre>"},{"location":"getting-started/#namespaces-scale-ownership-not-prefixes","title":"Namespaces scale ownership, not prefixes","text":"<p>Define multiple namespaces when you need isolated registries (per-team, per-domain).</p> <pre><code>sealed class AppDomain(id: String) : Namespace(id) {\n    data object Auth : AppDomain(\"auth\") {\n        val socialLogin by boolean&lt;Context&gt;(default = false)\n    }\n\n    data object Payments : AppDomain(\"payments\") {\n        val applePay by boolean&lt;Context&gt;(default = false)\n    }\n}\n</code></pre>"},{"location":"getting-started/#next-steps","title":"Next steps","text":"<ul> <li>Learn the building blocks: \"Core Concepts\"</li> <li>Write targeting rules and ramp-ups: \"Targeting &amp; Ramp-ups\"</li> <li>Understand evaluation order and determinism: \"Evaluation\"</li> <li>Add runtime-validated JSON configuration: \"Remote Configuration\"</li> <li>Understand the exact trust boundary: \"Theory\"</li> </ul>"},{"location":"migration/","title":"Migration Guide","text":"<p>This guide maps the conceptual shift from string-based flags to Konditional\u2019s typed, property-based model. It focuses on what changes at the definition site, at the call site, and at the trust boundary (runtime JSON).</p>"},{"location":"migration/#the-core-mapping","title":"The core mapping","text":"<p>String-based flag systems typically have:</p> <ul> <li>a string key (<code>\"dark-mode\"</code>)</li> <li>a typed getter chosen by the caller (<code>getBoolean</code>, <code>getString</code>, \u2026)</li> <li>an untyped context (often string keys and <code>Any</code> values)</li> </ul> <p>Konditional replaces those with:</p> <ul> <li>a property (the property name becomes the key)</li> <li>a declared type (from the delegate: <code>boolean</code>, <code>string</code>, <code>int</code>, <code>double</code>, <code>enum</code>)</li> <li>a typed <code>Context</code> (and optionally domain-specific context data classes)</li> </ul> <pre><code>flowchart LR\n    A[\"String key\"] --&gt; B[\"Property name\"]\n    C[\"Typed getter\"] --&gt; D[\"Type flows from definition\"]\n    E[\"Untyped context map\"] --&gt; F[\"Typed Context data\"]</code></pre>"},{"location":"migration/#step-by-step-adoption-incremental","title":"Step-by-step adoption (incremental)","text":""},{"location":"migration/#0-start-with-one-namespace","title":"0. Start with one namespace","text":"<pre><code>object Features : Namespace(\"app\") {\n    val darkMode by boolean&lt;Context&gt;(default = false)\n}\n</code></pre>"},{"location":"migration/#1-replace-call-sites-first-value-safety","title":"1. Replace call sites first (value safety)","text":"<pre><code>val enabled: Boolean = Features.darkMode.evaluate(context)\n</code></pre> <p>What you gain immediately:</p> <ul> <li>key typos are eliminated at the call site (there is no string key)</li> <li>return type is concrete (no cast; <code>Boolean</code> is enforced)</li> <li>evaluation is non-null (default is required)</li> </ul>"},{"location":"migration/#2-introduce-typed-context-targeting-ramp-ups","title":"2. Introduce typed context (targeting + ramp-ups)","text":"<pre><code>val context = Context(\n    locale = AppLocale.UNITED_STATES,\n    platform = Platform.IOS,\n    appVersion = Version.parse(\"2.1.0\"),\n    stableId = StableId.of(\"a1b2c3d4e5f6a7b8c9d0e1f2a3b4c5d6\")\n)\n</code></pre> <p><code>stableId</code> is the stable input used for deterministic ramp-up bucketing ( see \"Targeting &amp; Ramp-ups\").</p>"},{"location":"migration/#3-add-rules-after-defaults-exist-behavior-safety","title":"3. Add rules after defaults exist (behavior safety)","text":"<pre><code>val apiEndpoint by string&lt;Context&gt;(default = \"https://api.example.com\") {\n    rule(\"https://api-ios.example.com\") { platforms(Platform.IOS) }\n}\n</code></pre>"},{"location":"migration/#migrating-context-maps-to-typed-contexts","title":"Migrating \u201ccontext maps\u201d to typed contexts","text":"<p>If your current system uses string keys (<code>\"tier\"</code>, <code>\"role\"</code>, \u2026), move that information into a custom context:</p> <pre><code>data class EnterpriseContext(\n    override val locale: AppLocale,\n    override val platform: Platform,\n    override val appVersion: Version,\n    override val stableId: StableId,\n    val subscriptionTier: SubscriptionTier,\n    val employeeCount: Int\n) : Context\n\nenum class SubscriptionTier { FREE, PRO, ENTERPRISE }\n\nobject EnterpriseFeatures : Namespace(\"enterprise\") {\n    val advancedAnalytics by boolean&lt;EnterpriseContext&gt;(default = false) {\n        rule(true) {\n            extension {\n                subscriptionTier == SubscriptionTier.ENTERPRISE &amp;&amp; employeeCount &gt; 100\n            }\n        }\n    }\n}\n</code></pre> <p>Result: business targeting logic becomes type-checked and refactor-safe.</p>"},{"location":"migration/#namespaces-replace-prefixes","title":"Namespaces replace prefixes","text":"<p>Instead of <code>\"auth.dark-mode\"</code> / <code>\"payments.dark-mode\"</code> style prefixes, use namespace isolation:</p> <pre><code>sealed class AppDomain(id: String) : Namespace(id) {\n    data object Auth : AppDomain(\"auth\") {\n        val socialLogin by boolean&lt;Context&gt;(default = false)\n    }\n\n    data object Payments : AppDomain(\"payments\") {\n        val applePay by boolean&lt;Context&gt;(default = false)\n    }\n}\n</code></pre> <p>Each namespace has its own registry and independent configuration lifecycle.</p>"},{"location":"migration/#when-you-need-runtime-configuration-remote-json","title":"When you need runtime configuration (remote JSON)","text":"<p>Konditional supports JSON configuration as a validated boundary:</p> <pre><code>val json = File(\"flags.json\").readText()\nwhen (val result = AppDomain.Payments.fromJson(json)) {\n    is ParseResult.Success -&gt; Unit // loaded into AppDomain.Payments\n    is ParseResult.Failure -&gt; logError(\"Parse failed: ${result.error}\")\n}\n</code></pre> <p>The guarantee is intentionally qualified: JSON is not \u201calways safe\u201d; instead, invalid JSON is rejected before it can affect evaluation.</p>"},{"location":"migration/#shadow-evaluation-parallel-migration","title":"Shadow evaluation (parallel migration)","text":"<p>For gradual migrations, you can evaluate against a baseline registry and shadow-evaluate against a candidate:</p> <pre><code>val value = Features.darkMode.evaluateWithShadow(\n    context = context,\n    candidateRegistry = candidateRegistry,\n    onMismatch = { mismatch -&gt;\n        log.warn(\"Mismatch: ${mismatch.kinds} baseline=${mismatch.baseline.value} candidate=${mismatch.candidate.value}\")\n    }\n)\n</code></pre> <p>This keeps behavior pinned to the baseline value while generating comparison telemetry for the candidate path.</p>"},{"location":"migration/#next-steps","title":"Next steps","text":"<ul> <li>Learn the primitives: \"Core Concepts\"</li> <li>Understand rule evaluation and determinism: \"Evaluation\"</li> <li>Operate remote config safely: \"Remote Configuration\"</li> </ul>"},{"location":"oas/","title":"OpenAPI","text":""},{"location":"oas/#konditional-serialization-schema-001","title":"Konditional Serialization Schema 0.0.1","text":""},{"location":"oas/#endpoints","title":"Endpoints","text":""},{"location":"oas/#get-snapshot","title":"GET /snapshot","text":"<p>Fetch a configuration snapshot</p> <p> Response 200 OK </p> application/json <p><pre><code>{\n    \"meta\": {\n        \"version\": \"string\",\n        \"generatedAtEpochMillis\": 10.12,\n        \"source\": \"string\"\n    },\n    \"flags\": [\n        {\n            \"key\": \"string\",\n            \"defaultValue\": null,\n            \"salt\": \"string\",\n            \"isActive\": true,\n            \"rampUpAllowlist\": [\n                \"string\"\n            ],\n            \"rules\": [\n                {\n                    \"value\": null,\n                    \"rampUp\": 10.12,\n                    \"rampUpAllowlist\": [\n                        \"string\"\n                    ],\n                    \"note\": \"string\",\n                    \"locales\": [\n                        \"string\"\n                    ],\n                    \"platforms\": [\n                        \"string\"\n                    ],\n                    \"versionRange\": null,\n                    \"axes\": {}\n                }\n            ]\n        }\n    ]\n}\n</code></pre> \u26a0\ufe0f This example has been generated automatically from the schema and it is not accurate. Refer to the schema for more information.</p> Schema of the response body <pre><code>{\n    \"type\": \"object\",\n    \"additionalProperties\": false,\n    \"properties\": {\n        \"meta\": {\n            \"type\": \"object\",\n            \"additionalProperties\": false,\n            \"properties\": {\n                \"version\": {\n                    \"type\": \"string\"\n                },\n                \"generatedAtEpochMillis\": {\n                    \"type\": \"number\",\n                    \"format\": \"int64\",\n                    \"minimum\": 0.0\n                },\n                \"source\": {\n                    \"type\": \"string\"\n                }\n            }\n        },\n        \"flags\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"type\": \"object\",\n                \"additionalProperties\": false,\n                \"properties\": {\n                    \"key\": {\n                        \"description\": \"Encoded feature identifier: feature::&lt;namespace&gt;::&lt;key&gt;.\",\n                        \"type\": \"string\"\n                    },\n                    \"defaultValue\": {\n                        \"oneOf\": [\n                            {\n                                \"type\": \"object\",\n                                \"additionalProperties\": false,\n                                \"properties\": {\n                                    \"type\": {\n                                        \"type\": \"string\",\n                                        \"enum\": [\n                                            \"BOOLEAN\"\n                                        ]\n                                    },\n                                    \"value\": {\n                                        \"type\": \"boolean\"\n                                    }\n                                },\n                                \"required\": [\n                                    \"type\",\n                                    \"value\"\n                                ]\n                            },\n                            {\n                                \"type\": \"object\",\n                                \"additionalProperties\": false,\n                                \"properties\": {\n                                    \"type\": {\n                                        \"type\": \"string\",\n                                        \"enum\": [\n                                            \"STRING\"\n                                        ]\n                                    },\n                                    \"value\": {\n                                        \"type\": \"string\"\n                                    }\n                                },\n                                \"required\": [\n                                    \"type\",\n                                    \"value\"\n                                ]\n                            },\n                            {\n                                \"type\": \"object\",\n                                \"additionalProperties\": false,\n                                \"properties\": {\n                                    \"type\": {\n                                        \"type\": \"string\",\n                                        \"enum\": [\n                                            \"INT\"\n                                        ]\n                                    },\n                                    \"value\": {\n                                        \"type\": \"integer\",\n                                        \"format\": \"int32\"\n                                    }\n                                },\n                                \"required\": [\n                                    \"type\",\n                                    \"value\"\n                                ]\n                            },\n                            {\n                                \"type\": \"object\",\n                                \"additionalProperties\": false,\n                                \"properties\": {\n                                    \"type\": {\n                                        \"type\": \"string\",\n                                        \"enum\": [\n                                            \"DOUBLE\"\n                                        ]\n                                    },\n                                    \"value\": {\n                                        \"type\": \"number\",\n                                        \"format\": \"double\"\n                                    }\n                                },\n                                \"required\": [\n                                    \"type\",\n                                    \"value\"\n                                ]\n                            },\n                            {\n                                \"type\": \"object\",\n                                \"additionalProperties\": false,\n                                \"properties\": {\n                                    \"type\": {\n                                        \"type\": \"string\",\n                                        \"enum\": [\n                                            \"ENUM\"\n                                        ]\n                                    },\n                                    \"value\": {\n                                        \"type\": \"string\"\n                                    },\n                                    \"enumClassName\": {\n                                        \"type\": \"string\"\n                                    }\n                                },\n                                \"required\": [\n                                    \"type\",\n                                    \"value\",\n                                    \"enumClassName\"\n                                ]\n                            },\n                            {\n                                \"type\": \"object\",\n                                \"additionalProperties\": false,\n                                \"properties\": {\n                                    \"type\": {\n                                        \"type\": \"string\",\n                                        \"enum\": [\n                                            \"DATA_CLASS\"\n                                        ]\n                                    },\n                                    \"dataClassName\": {\n                                        \"type\": \"string\"\n                                    },\n                                    \"value\": {\n                                        \"type\": \"object\",\n                                        \"additionalProperties\": {\n                                            \"nullable\": true\n                                        }\n                                    }\n                                },\n                                \"required\": [\n                                    \"type\",\n                                    \"dataClassName\",\n                                    \"value\"\n                                ]\n                            }\n                        ]\n                    },\n                    \"salt\": {\n                        \"type\": \"string\",\n                        \"default\": \"v1\"\n                    },\n                    \"isActive\": {\n                        \"type\": \"boolean\",\n                        \"default\": true\n                    },\n                    \"rampUpAllowlist\": {\n                        \"type\": \"array\",\n                        \"items\": {\n                            \"type\": \"string\"\n                        },\n                        \"uniqueItems\": true,\n                        \"default\": []\n                    },\n                    \"rules\": {\n                        \"type\": \"array\",\n                        \"items\": {\n                            \"type\": \"object\",\n                            \"additionalProperties\": false,\n                            \"properties\": {\n                                \"value\": {\n                                    \"oneOf\": [\n                                        {\n                                            \"type\": \"object\",\n                                            \"additionalProperties\": false,\n                                            \"properties\": {\n                                                \"type\": {\n                                                    \"type\": \"string\",\n                                                    \"enum\": [\n                                                        \"BOOLEAN\"\n                                                    ]\n                                                },\n                                                \"value\": {\n                                                    \"type\": \"boolean\"\n                                                }\n                                            },\n                                            \"required\": [\n                                                \"type\",\n                                                \"value\"\n                                            ]\n                                        },\n                                        {\n                                            \"type\": \"object\",\n                                            \"additionalProperties\": false,\n                                            \"properties\": {\n                                                \"type\": {\n                                                    \"type\": \"string\",\n                                                    \"enum\": [\n                                                        \"STRING\"\n                                                    ]\n                                                },\n                                                \"value\": {\n                                                    \"type\": \"string\"\n                                                }\n                                            },\n                                            \"required\": [\n                                                \"type\",\n                                                \"value\"\n                                            ]\n                                        },\n                                        {\n                                            \"type\": \"object\",\n                                            \"additionalProperties\": false,\n                                            \"properties\": {\n                                                \"type\": {\n                                                    \"type\": \"string\",\n                                                    \"enum\": [\n                                                        \"INT\"\n                                                    ]\n                                                },\n                                                \"value\": {\n                                                    \"type\": \"integer\",\n                                                    \"format\": \"int32\"\n                                                }\n                                            },\n                                            \"required\": [\n                                                \"type\",\n                                                \"value\"\n                                            ]\n                                        },\n                                        {\n                                            \"type\": \"object\",\n                                            \"additionalProperties\": false,\n                                            \"properties\": {\n                                                \"type\": {\n                                                    \"type\": \"string\",\n                                                    \"enum\": [\n                                                        \"DOUBLE\"\n                                                    ]\n                                                },\n                                                \"value\": {\n                                                    \"type\": \"number\",\n                                                    \"format\": \"double\"\n                                                }\n                                            },\n                                            \"required\": [\n                                                \"type\",\n                                                \"value\"\n                                            ]\n                                        },\n                                        {\n                                            \"type\": \"object\",\n                                            \"additionalProperties\": false,\n                                            \"properties\": {\n                                                \"type\": {\n                                                    \"type\": \"string\",\n                                                    \"enum\": [\n                                                        \"ENUM\"\n                                                    ]\n                                                },\n                                                \"value\": {\n                                                    \"type\": \"string\"\n                                                },\n                                                \"enumClassName\": {\n                                                    \"type\": \"string\"\n                                                }\n                                            },\n                                            \"required\": [\n                                                \"type\",\n                                                \"value\",\n                                                \"enumClassName\"\n                                            ]\n                                        },\n                                        {\n                                            \"type\": \"object\",\n                                            \"additionalProperties\": false,\n                                            \"properties\": {\n                                                \"type\": {\n                                                    \"type\": \"string\",\n                                                    \"enum\": [\n                                                        \"DATA_CLASS\"\n                                                    ]\n                                                },\n                                                \"dataClassName\": {\n                                                    \"type\": \"string\"\n                                                },\n                                                \"value\": {\n                                                    \"type\": \"object\",\n                                                    \"additionalProperties\": {\n                                                        \"nullable\": true\n                                                    }\n                                                }\n                                            },\n                                            \"required\": [\n                                                \"type\",\n                                                \"dataClassName\",\n                                                \"value\"\n                                            ]\n                                        }\n                                    ]\n                                },\n                                \"rampUp\": {\n                                    \"type\": \"number\",\n                                    \"format\": \"double\",\n                                    \"minimum\": 0.0,\n                                    \"maximum\": 100.0,\n                                    \"default\": 100.0\n                                },\n                                \"rampUpAllowlist\": {\n                                    \"type\": \"array\",\n                                    \"items\": {\n                                        \"type\": \"string\"\n                                    },\n                                    \"uniqueItems\": true,\n                                    \"default\": []\n                                },\n                                \"note\": {\n                                    \"type\": \"string\"\n                                },\n                                \"locales\": {\n                                    \"type\": \"array\",\n                                    \"items\": {\n                                        \"type\": \"string\"\n                                    },\n                                    \"uniqueItems\": true,\n                                    \"default\": [\n                                        \"AUSTRALIA\",\n                                        \"AUSTRIA\",\n                                        \"BELGIUM_DUTCH\",\n                                        \"BELGIUM_FRENCH\",\n                                        \"CANADA\",\n                                        \"CANADA_FRENCH\",\n                                        \"FINLAND\",\n                                        \"FRANCE\",\n                                        \"GERMANY\",\n                                        \"HONG_KONG\",\n                                        \"HONG_KONG_ENGLISH\",\n                                        \"INDIA\",\n                                        \"ITALY\",\n                                        \"JAPAN\",\n                                        \"MEXICO\",\n                                        \"NETHERLANDS\",\n                                        \"NEW_ZEALAND\",\n                                        \"NORWAY\",\n                                        \"SINGAPORE\",\n                                        \"SPAIN\",\n                                        \"SWEDEN\",\n                                        \"TAIWAN\",\n                                        \"UNITED_KINGDOM\",\n                                        \"UNITED_STATES\",\n                                        \"ICC_EN_EU\",\n                                        \"ICC_EN_EI\"\n                                    ]\n                                },\n                                \"platforms\": {\n                                    \"type\": \"array\",\n                                    \"items\": {\n                                        \"type\": \"string\"\n                                    },\n                                    \"uniqueItems\": true,\n                                    \"default\": [\n                                        \"IOS\",\n                                        \"ANDROID\",\n                                        \"WEB\"\n                                    ]\n                                },\n                                \"versionRange\": {\n                                    \"oneOf\": [\n                                        {\n                                            \"type\": \"object\",\n                                            \"additionalProperties\": false,\n                                            \"properties\": {\n                                                \"type\": {\n                                                    \"type\": \"string\",\n                                                    \"enum\": [\n                                                        \"UNBOUNDED\"\n                                                    ]\n                                                }\n                                            },\n                                            \"required\": [\n                                                \"type\"\n                                            ]\n                                        },\n                                        {\n                                            \"type\": \"object\",\n                                            \"additionalProperties\": false,\n                                            \"properties\": {\n                                                \"type\": {\n                                                    \"type\": \"string\",\n                                                    \"enum\": [\n                                                        \"MIN_BOUND\"\n                                                    ]\n                                                },\n                                                \"min\": {\n                                                    \"description\": \"Semantic version representation.\",\n                                                    \"type\": \"object\",\n                                                    \"additionalProperties\": false,\n                                                    \"properties\": {\n                                                        \"major\": {\n                                                            \"type\": \"integer\",\n                                                            \"format\": \"int32\",\n                                                            \"minimum\": 0\n                                                        },\n                                                        \"minor\": {\n                                                            \"type\": \"integer\",\n                                                            \"format\": \"int32\",\n                                                            \"minimum\": 0\n                                                        },\n                                                        \"patch\": {\n                                                            \"type\": \"integer\",\n                                                            \"format\": \"int32\",\n                                                            \"minimum\": 0\n                                                        }\n                                                    },\n                                                    \"required\": [\n                                                        \"major\",\n                                                        \"minor\",\n                                                        \"patch\"\n                                                    ]\n                                                }\n                                            },\n                                            \"required\": [\n                                                \"type\",\n                                                \"min\"\n                                            ]\n                                        },\n                                        {\n                                            \"type\": \"object\",\n                                            \"additionalProperties\": false,\n                                            \"properties\": {\n                                                \"type\": {\n                                                    \"type\": \"string\",\n                                                    \"enum\": [\n                                                        \"MAX_BOUND\"\n                                                    ]\n                                                },\n                                                \"max\": {\n                                                    \"description\": \"Semantic version representation.\",\n                                                    \"type\": \"object\",\n                                                    \"additionalProperties\": false,\n                                                    \"properties\": {\n                                                        \"major\": {\n                                                            \"type\": \"integer\",\n                                                            \"format\": \"int32\",\n                                                            \"minimum\": 0\n                                                        },\n                                                        \"minor\": {\n                                                            \"type\": \"integer\",\n                                                            \"format\": \"int32\",\n                                                            \"minimum\": 0\n                                                        },\n                                                        \"patch\": {\n                                                            \"type\": \"integer\",\n                                                            \"format\": \"int32\",\n                                                            \"minimum\": 0\n                                                        }\n                                                    },\n                                                    \"required\": [\n                                                        \"major\",\n                                                        \"minor\",\n                                                        \"patch\"\n                                                    ]\n                                                }\n                                            },\n                                            \"required\": [\n                                                \"type\",\n                                                \"max\"\n                                            ]\n                                        },\n                                        {\n                                            \"type\": \"object\",\n                                            \"additionalProperties\": false,\n                                            \"properties\": {\n                                                \"type\": {\n                                                    \"type\": \"string\",\n                                                    \"enum\": [\n                                                        \"MIN_AND_MAX_BOUND\"\n                                                    ]\n                                                },\n                                                \"min\": {\n                                                    \"description\": \"Semantic version representation.\",\n                                                    \"type\": \"object\",\n                                                    \"additionalProperties\": false,\n                                                    \"properties\": {\n                                                        \"major\": {\n                                                            \"type\": \"integer\",\n                                                            \"format\": \"int32\",\n                                                            \"minimum\": 0\n                                                        },\n                                                        \"minor\": {\n                                                            \"type\": \"integer\",\n                                                            \"format\": \"int32\",\n                                                            \"minimum\": 0\n                                                        },\n                                                        \"patch\": {\n                                                            \"type\": \"integer\",\n                                                            \"format\": \"int32\",\n                                                            \"minimum\": 0\n                                                        }\n                                                    },\n                                                    \"required\": [\n                                                        \"major\",\n                                                        \"minor\",\n                                                        \"patch\"\n                                                    ]\n                                                },\n                                                \"max\": {\n                                                    \"description\": \"Semantic version representation.\",\n                                                    \"type\": \"object\",\n                                                    \"additionalProperties\": false,\n                                                    \"properties\": {\n                                                        \"major\": {\n                                                            \"type\": \"integer\",\n                                                            \"format\": \"int32\",\n                                                            \"minimum\": 0\n                                                        },\n                                                        \"minor\": {\n                                                            \"type\": \"integer\",\n                                                            \"format\": \"int32\",\n                                                            \"minimum\": 0\n                                                        },\n                                                        \"patch\": {\n                                                            \"type\": \"integer\",\n                                                            \"format\": \"int32\",\n                                                            \"minimum\": 0\n                                                        }\n                                                    },\n                                                    \"required\": [\n                                                        \"major\",\n                                                        \"minor\",\n                                                        \"patch\"\n                                                    ]\n                                                }\n                                            },\n                                            \"required\": [\n                                                \"type\",\n                                                \"min\",\n                                                \"max\"\n                                            ]\n                                        }\n                                    ],\n                                    \"default\": {\n                                        \"type\": \"UNBOUNDED\"\n                                    }\n                                },\n                                \"axes\": {\n                                    \"type\": \"object\",\n                                    \"additionalProperties\": {\n                                        \"type\": \"array\",\n                                        \"items\": {\n                                            \"type\": \"string\"\n                                        },\n                                        \"uniqueItems\": true\n                                    },\n                                    \"default\": {}\n                                }\n                            },\n                            \"required\": [\n                                \"value\",\n                                \"rampUp\",\n                                \"rampUpAllowlist\",\n                                \"locales\",\n                                \"platforms\",\n                                \"versionRange\",\n                                \"axes\"\n                            ]\n                        },\n                        \"default\": []\n                    }\n                },\n                \"required\": [\n                    \"key\",\n                    \"defaultValue\",\n                    \"salt\",\n                    \"isActive\",\n                    \"rampUpAllowlist\",\n                    \"rules\"\n                ]\n            }\n        }\n    },\n    \"required\": [\n        \"flags\"\n    ]\n}\n</code></pre>"},{"location":"oas/#schemas","title":"Schemas","text":""},{"location":"oas/#featureid","title":"FeatureId","text":"<p>Type: string</p>"},{"location":"oas/#flagvalue","title":"FlagValue","text":"<p>Type: </p>"},{"location":"oas/#serializableflag","title":"SerializableFlag","text":"Name Type <code>defaultValue</code> <code>isActive</code> boolean <code>key</code> string <code>rampUpAllowlist</code> Array&lt;string&gt; <code>rules</code> Array&lt;Properties: <code>value, rampUp, rampUpAllowlist, note, locales, platforms, versionRange, axes</code>&gt; <code>salt</code> string"},{"location":"oas/#serializablepatch","title":"SerializablePatch","text":"Name Type <code>flags</code> Array&lt;Properties: <code>key, defaultValue, salt, isActive, rampUpAllowlist, rules</code>&gt; <code>meta</code> Properties: <code>version, generatedAtEpochMillis, source</code> <code>removeKeys</code> Array&lt;string&gt;"},{"location":"oas/#serializablerule","title":"SerializableRule","text":"Name Type <code>axes</code> <code>locales</code> Array&lt;string&gt; <code>note</code> string <code>platforms</code> Array&lt;string&gt; <code>rampUp</code> number(double) <code>rampUpAllowlist</code> Array&lt;string&gt; <code>value</code> <code>versionRange</code>"},{"location":"oas/#serializablesnapshot","title":"SerializableSnapshot","text":"Name Type <code>flags</code> Array&lt;Properties: <code>key, defaultValue, salt, isActive, rampUpAllowlist, rules</code>&gt; <code>meta</code> Properties: <code>version, generatedAtEpochMillis, source</code>"},{"location":"oas/#serializablesnapshotmetadata","title":"SerializableSnapshotMetadata","text":"Name Type <code>generatedAtEpochMillis</code> number(int64) <code>source</code> string <code>version</code> string"},{"location":"oas/#version","title":"Version","text":"Name Type <code>major</code> integer(int32) <code>minor</code> integer(int32) <code>patch</code> integer(int32)"},{"location":"oas/#versionrange","title":"VersionRange","text":"<p>Type: </p>"},{"location":"persistence-format/","title":"Persistence &amp; Storage Format","text":"<p>This page documents the JSON formats used to persist and transport Konditional configuration:</p> <ul> <li>Snapshot: the full configuration payload (<code>SnapshotSerializer.serialize(...)</code>)</li> <li>Patch: an incremental update payload (<code>SnapshotSerializer.applyPatchJson(...)</code>)</li> </ul> <p>These formats are intentionally storage-agnostic: you can store the JSON in files, a database, or ship it over the network.</p>"},{"location":"persistence-format/#mental-model-what-is-persisted","title":"Mental model: what is persisted","text":"<p>At persistence time, the library serializes a list of flag definitions:</p> <pre><code>flowchart LR\n    Snap[Snapshot JSON] --&gt; Flags[\"flags: List{SerializableFlag}\"]\n    Snap --&gt; Meta[\"meta: SerializableSnapshotMetadata?\"]\n    Flags --&gt; Flag[\"SerializableFlag\"]\n    Flag --&gt; Key[\"key: FeatureId\"]\n    Flag --&gt; Default[\"defaultValue: FlagValue\"]\n    Flag --&gt; Salt[\"salt: String\"]\n    Flag --&gt; Active[\"isActive: Boolean\"]\n    Flag --&gt; FAllow[\"rampUpAllowlist: Set{String}\"]\n    Flag --&gt; Rules\n    Rules --&gt; Rule[\"SerializableRule\"]\n    Rule --&gt; RVal[\"value: FlagValue\"]\n    Rule --&gt; Ramp[\"rampUp: Double\"]\n    Rule --&gt; RAllow[\"rampUpAllowlist: Set{String}\"]\n    Rule --&gt; Note[\"note: String?\"]\n    Rule --&gt; Loc[\"locales: Set{String}\"]\n    Rule --&gt; Plat[\"platforms: Set{String}\"]\n    Rule --&gt; Vr[\"versionRange: VersionRange?\"]\n    Rule --&gt; Axes[\"axes: Map{String, Set{String}}\"]\n</code></pre>"},{"location":"persistence-format/#featureid-format-key","title":"FeatureId format (<code>key</code>)","text":"<p>Each flag is stored under a stable FeatureId string:</p> <pre><code>feature::${namespaceIdentifierSeed}::${featureKey}\n</code></pre> <p>Where:</p> <ul> <li><code>${namespaceIdentifierSeed}</code> is <code>Namespace.identifierSeed</code> (defaults to the namespace <code>id</code>)</li> <li><code>${featureKey}</code> is the feature key (typically the Kotlin property name)</li> </ul> <p>Example (Global namespace, <code>darkMode</code>):</p> <pre><code>feature::global::darkMode\n</code></pre> <p>Backward compatibility: older snapshots may contain <code>value::${namespaceIdentifierSeed}::${featureKey}</code>. These are normalized on load.</p>"},{"location":"persistence-format/#value-encoding-flagvalue","title":"Value encoding (<code>FlagValue</code>)","text":"<p>Both <code>defaultValue</code> and each rule\u2019s <code>value</code> are encoded as a tagged object:</p> <pre><code>{\n  \"type\": \"BOOLEAN\",\n  \"value\": true\n}\n</code></pre> <p>Supported shapes:</p> Kind JSON shape Boolean <code>{ \"type\": \"BOOLEAN\", \"value\": ${boolean} }</code> String <code>{ \"type\": \"STRING\", \"value\": \"${string}\" }</code> Int <code>{ \"type\": \"INT\", \"value\": ${int} }</code> Double <code>{ \"type\": \"DOUBLE\", \"value\": ${double} }</code> Enum <code>{ \"type\": \"ENUM\", \"value\": \"${enumName}\", \"enumClassName\": \"${fqcn}\" }</code> Data class <code>{ \"type\": \"DATA_CLASS\", \"dataClassName\": \"${fqcn}\", \"value\": { ...primitive fields... } }</code> <p>The <code>DATA_CLASS</code> representation stores a primitive map of fields along with the fully qualified class name.</p>"},{"location":"persistence-format/#version-range-encoding-versionrange","title":"Version range encoding (<code>versionRange</code>)","text":"<p>Rules may include a <code>versionRange</code> object. It uses a discriminator and optional bounds:</p> <pre><code>{\n  \"type\": \"MIN_AND_MAX_BOUND\",\n  \"min\": {\n    \"major\": 2,\n    \"minor\": 0,\n    \"patch\": 0\n  },\n  \"max\": {\n    \"major\": 4,\n    \"minor\": 0,\n    \"patch\": 0\n  }\n}\n</code></pre> <p>Valid <code>type</code> values:</p> <ul> <li><code>UNBOUNDED</code></li> <li><code>MIN_BOUND</code> (requires <code>min</code>)</li> <li><code>MAX_BOUND</code> (requires <code>max</code>)</li> <li><code>MIN_AND_MAX_BOUND</code> (requires <code>min</code> and <code>max</code>)</li> </ul> <p>Locale and platform values are serialized as their stable ids (<code>LocaleTag.id</code> / <code>PlatformTag.id</code>). The built-in <code>AppLocale</code> and <code>Platform</code> enums use their enum names as ids, so existing snapshots remain stable.</p>"},{"location":"persistence-format/#ramp-up-allowlists-rampupallowlist","title":"Ramp-up allowlists (<code>rampUpAllowlist</code>)","text":"<p>Both flags and individual rules may include a <code>rampUpAllowlist</code> field:</p> <ul> <li>It is a set of stable ID hex strings (the same representation returned by <code>Context.stableId.id</code>).</li> <li>It does not force a rule to match; it only bypasses the ramp-up check after a rule matches by criteria.</li> <li>Flag-level and rule-level allowlists are treated as a union (either can bypass ramp-up).</li> <li>It does not override <code>isActive</code> or the namespace kill-switch (<code>disableAll</code>).</li> </ul> <p>To generate a value for remote config, use the same normalization as the runtime:</p> <pre><code>val stableIdHex = StableId.of(\"user-123\").id // \"757365722d313233\"\nval stableIdFromHex = StableId.fromHex(stableIdHex)\n</code></pre>"},{"location":"persistence-format/#generic-templates-kotlin-style","title":"Generic templates (Kotlin-style)","text":""},{"location":"persistence-format/#snapshot-template","title":"Snapshot template","text":"<pre><code>val snapshotJson = \"\"\"\n{\n  \"meta\": {\n    \"version\": \"${optionalVersionOrNull}\",\n    \"generatedAtEpochMillis\": ${optionalEpochMillisOrNull},\n    \"source\": \"${optionalSourceOrNull}\"\n  },\n  \"flags\": [\n    {\n      \"key\": \"feature::${namespaceSeed}::${featureKey}\",\n      \"defaultValue\": {\n        \"type\": \"${valueType}\",\n        \"value\": ${defaultValueJson},\n        \"...\": \"${typeSpecificFields}\"\n      },\n      \"salt\": \"${salt}\",\n      \"isActive\": ${isActive},\n      \"rampUpAllowlist\": [\"${stableIdHex}\", \"...\"],\n      \"rules\": [\n        {\n          \"value\": {\n            \"type\": \"${valueType}\",\n            \"value\": ${ruleValueJson},\n            \"...\": \"${typeSpecificFields}\"\n          },\n          \"rampUp\": ${rampUpPercent},\n          \"rampUpAllowlist\": [\"${stableIdHex}\", \"...\"],\n          \"note\": \"${optionalNoteOrNull}\",\n          \"locales\": [\"${APP_LOCALE_ENUM_NAME}\", \"...\"],\n          \"platforms\": [\"${PLATFORM_ENUM_NAME}\", \"...\"],\n          \"axes\": {\n            \"${axisId}\": [\"${axisValueId}\", \"...\"]\n          },\n          \"versionRange\": {\n            \"type\": \"${UNBOUNDED|MIN_BOUND|MAX_BOUND|MIN_AND_MAX_BOUND}\",\n            \"min\": { \"major\": ${minMajor}, \"minor\": ${minMinor}, \"patch\": ${minPatch} },\n            \"max\": { \"major\": ${maxMajor}, \"minor\": ${maxMinor}, \"patch\": ${maxPatch} }\n          }\n        }\n      ]\n    }\n  ]\n}\n\"\"\"\n</code></pre>"},{"location":"persistence-format/#patch-template","title":"Patch template","text":"<pre><code>val patchJson = \"\"\"\n{\n  \"meta\": {\n    \"version\": \"${optionalVersionOrNull}\",\n    \"generatedAtEpochMillis\": ${optionalEpochMillisOrNull},\n    \"source\": \"${optionalSourceOrNull}\"\n  },\n  \"flags\": [\n    { \"...\": \"SerializableFlag objects (same shape as snapshot)\" }\n  ],\n  \"removeKeys\": [\n    \"feature::${namespaceSeed}::${featureKeyToRemove}\",\n    \"feature::${namespaceSeed}::${anotherKey}\"\n  ]\n}\n\"\"\"\n</code></pre>"},{"location":"persistence-format/#parse-boundary-and-failure-modes","title":"Parse boundary and failure modes","text":"<p>Deserialization reconstructs configurations by looking up each <code>key</code> in an internal registry of known features.</p> <ul> <li>If a key is not registered, parsing fails with <code>ParseError.FeatureNotFound</code>.</li> <li>JSON syntax/shape errors fail with <code>ParseError.InvalidJson</code> / <code>ParseError.InvalidSnapshot</code>.</li> </ul> <p>Operationally: treat parse failures as \u201creject update, keep last-known-good\u201d.</p>"},{"location":"persistence-format/#snapshot-metadata-meta","title":"Snapshot metadata (<code>meta</code>)","text":"<p>Snapshots and patches may include an optional <code>meta</code> object:</p> <pre><code>{\n  \"meta\": {\n    \"version\": \"rev-123\",\n    \"generatedAtEpochMillis\": 1700000000000,\n    \"source\": \"s3://configs/global.json\"\n  },\n  \"flags\": []\n}\n</code></pre>"},{"location":"persistence-format/#json-examples","title":"JSON examples","text":"<p>Notes:</p> <ul> <li>Incoming JSON may omit fields that have defaults (for example <code>rampUpAllowlist</code>, <code>locales</code>, <code>platforms</code>, <code>axes</code>, and   <code>versionRange</code>).</li> <li><code>SnapshotSerializer.serialize(...)</code> emits explicit values for these fields (including empty arrays/objects).</li> </ul> <p>:::details Snapshot: booleans + string variants, with version ranges</p> <pre><code>{\n  \"flags\": [\n    {\n      \"key\": \"feature::global::darkMode\",\n      \"defaultValue\": {\n        \"type\": \"BOOLEAN\",\n        \"value\": false\n      },\n      \"salt\": \"v1\",\n      \"isActive\": true,\n      \"rampUpAllowlist\": [],\n      \"rules\": [\n        {\n          \"value\": {\n            \"type\": \"BOOLEAN\",\n            \"value\": true\n          },\n          \"rampUp\": 50.0,\n          \"rampUpAllowlist\": [\n            \"757365722d313233\"\n          ],\n          \"note\": \"iOS gradual ramp-up\",\n          \"locales\": [\n            \"UNITED_STATES\"\n          ],\n          \"platforms\": [\n            \"IOS\"\n          ],\n          \"axes\": {},\n          \"versionRange\": {\n            \"type\": \"MIN_BOUND\",\n            \"min\": {\n              \"major\": 2,\n              \"minor\": 0,\n              \"patch\": 0\n            }\n          }\n        }\n      ]\n    },\n    {\n      \"key\": \"feature::global::apiEndpoint\",\n      \"defaultValue\": {\n        \"type\": \"STRING\",\n        \"value\": \"https://api.example.com\"\n      },\n      \"salt\": \"v1\",\n      \"isActive\": true,\n      \"rampUpAllowlist\": [],\n      \"rules\": [\n        {\n          \"value\": {\n            \"type\": \"STRING\",\n            \"value\": \"https://api-ios.example.com\"\n          },\n          \"rampUp\": 100.0,\n          \"rampUpAllowlist\": [],\n          \"note\": \"iOS endpoint\",\n          \"locales\": [],\n          \"platforms\": [\n            \"IOS\"\n          ],\n          \"axes\": {},\n          \"versionRange\": {\n            \"type\": \"UNBOUNDED\"\n          }\n        },\n        {\n          \"value\": {\n            \"type\": \"STRING\",\n            \"value\": \"https://api-android.example.com\"\n          },\n          \"rampUp\": 100.0,\n          \"rampUpAllowlist\": [],\n          \"note\": \"Android endpoint\",\n          \"locales\": [],\n          \"platforms\": [\n            \"ANDROID\"\n          ],\n          \"axes\": {},\n          \"versionRange\": {\n            \"type\": \"UNBOUNDED\"\n          }\n        }\n      ]\n    }\n  ]\n}\n</code></pre> <p>:::</p> <p>:::details Snapshot: enum value payload</p> <pre><code>{\n  \"flags\": [\n    {\n      \"key\": \"feature::global::theme\",\n      \"defaultValue\": {\n        \"type\": \"ENUM\",\n        \"value\": \"LIGHT\",\n        \"enumClassName\": \"com.example.Theme\"\n      },\n      \"salt\": \"v1\",\n      \"isActive\": true,\n      \"rampUpAllowlist\": [],\n      \"rules\": [\n        {\n          \"value\": {\n            \"type\": \"ENUM\",\n            \"value\": \"DARK\",\n            \"enumClassName\": \"com.example.Theme\"\n          },\n          \"rampUp\": 100.0,\n          \"rampUpAllowlist\": [],\n          \"note\": \"Dark theme for iOS\",\n          \"locales\": [],\n          \"platforms\": [\n            \"IOS\"\n          ],\n          \"axes\": {},\n          \"versionRange\": {\n            \"type\": \"UNBOUNDED\"\n          }\n        }\n      ]\n    }\n  ]\n}\n</code></pre> <p>:::</p> <p>:::details Patch: update one flag, remove one flag</p> <pre><code>{\n  \"flags\": [\n    {\n      \"key\": \"feature::global::darkMode\",\n      \"defaultValue\": {\n        \"type\": \"BOOLEAN\",\n        \"value\": false\n      },\n      \"salt\": \"v1\",\n      \"isActive\": true,\n      \"rampUpAllowlist\": [],\n      \"rules\": [\n        {\n          \"value\": {\n            \"type\": \"BOOLEAN\",\n            \"value\": true\n          },\n          \"rampUp\": 100.0,\n          \"rampUpAllowlist\": [],\n          \"note\": \"Ramp-up complete\",\n          \"locales\": [],\n          \"platforms\": [],\n          \"axes\": {},\n          \"versionRange\": {\n            \"type\": \"UNBOUNDED\"\n          }\n        }\n      ]\n    }\n  ],\n  \"removeKeys\": [\n    \"feature::global::LEGACY_SUPPORT\"\n  ]\n}\n</code></pre> <p>:::</p> <p>:::details Consumer Configuration Lifecycle Sample</p> <pre><code>{\n  \"flags\": [\n    {\n      \"key\": \"feature::consumer-lifecycle-3f02840e-abd0-4447-9bdc-0a8f41ca530e::darkMode\",\n      \"defaultValue\": {\n        \"type\": \"BOOLEAN\",\n        \"value\": false\n      },\n      \"salt\": \"v1\",\n      \"isActive\": true,\n      \"rules\": [\n        {\n          \"value\": {\n            \"type\": \"BOOLEAN\",\n            \"value\": true\n          },\n          \"rampUp\": 100.0,\n          \"note\": \"iOS fully enabled\",\n          \"locales\": [],\n          \"platforms\": [\n            \"IOS\"\n          ],\n          \"versionRange\": {\n            \"type\": \"UNBOUNDED\"\n          }\n        }\n      ]\n    },\n    {\n      \"key\": \"feature::consumer-lifecycle-3f02840e-abd0-4447-9bdc-0a8f41ca530e::apiEndpoint\",\n      \"defaultValue\": {\n        \"type\": \"STRING\",\n        \"value\": \"https://api.example.com\"\n      },\n      \"salt\": \"v1\",\n      \"isActive\": true,\n      \"rules\": [\n        {\n          \"value\": {\n            \"type\": \"STRING\",\n            \"value\": \"https://api-web.example.com\"\n          },\n          \"rampUp\": 100.0,\n          \"note\": \"Web endpoint override\",\n          \"locales\": [],\n          \"platforms\": [\n            \"WEB\"\n          ],\n          \"versionRange\": {\n            \"type\": \"UNBOUNDED\"\n          }\n        }\n      ]\n    },\n    {\n      \"key\": \"feature::consumer-lifecycle-3f02840e-abd0-4447-9bdc-0a8f41ca530e::maxRetries\",\n      \"defaultValue\": {\n        \"type\": \"INT\",\n        \"value\": 3\n      },\n      \"salt\": \"v1\",\n      \"isActive\": true,\n      \"rules\": [\n        {\n          \"value\": {\n            \"type\": \"INT\",\n            \"value\": 5\n          },\n          \"rampUp\": 100.0,\n          \"note\": \"More retries on v2+\",\n          \"locales\": [],\n          \"platforms\": [],\n          \"versionRange\": {\n            \"type\": \"MIN_BOUND\",\n            \"min\": {\n              \"major\": 2,\n              \"minor\": 0,\n              \"patch\": 0\n            }\n          }\n        }\n      ]\n    },\n    {\n      \"key\": \"feature::consumer-lifecycle-3f02840e-abd0-4447-9bdc-0a8f41ca530e::theme\",\n      \"defaultValue\": {\n        \"type\": \"ENUM\",\n        \"value\": \"LIGHT\",\n        \"enumClassName\": \"io.amichne.konditional.serialization.ConsumerConfigurationLifecycleTest$Theme\"\n      },\n      \"salt\": \"v1\",\n      \"isActive\": true,\n      \"rules\": [\n        {\n          \"value\": {\n            \"type\": \"ENUM\",\n            \"value\": \"DARK\",\n            \"enumClassName\": \"io.amichne.konditional.serialization.ConsumerConfigurationLifecycleTest$Theme\"\n          },\n          \"rampUp\": 100.0,\n          \"note\": \"Dark theme for FR locale\",\n          \"locales\": [\n            \"FRANCE\"\n          ],\n          \"platforms\": [],\n          \"versionRange\": {\n            \"type\": \"UNBOUNDED\"\n          }\n        }\n      ]\n    },\n    {\n      \"key\": \"feature::consumer-lifecycle-3f02840e-abd0-4447-9bdc-0a8f41ca530e::userSettings\",\n      \"defaultValue\": {\n        \"type\": \"DATA_CLASS\",\n        \"dataClassName\": \"io.amichne.konditional.serialization.ConsumerConfigurationLifecycleTest$UserSettings\",\n        \"value\": {\n          \"enabled\": true,\n          \"maxRetries\": 3.0,\n          \"theme\": \"light\",\n          \"timeoutSeconds\": 30.0\n        }\n      },\n      \"salt\": \"v1\",\n      \"isActive\": true,\n      \"rules\": [\n        {\n          \"value\": {\n            \"type\": \"DATA_CLASS\",\n            \"dataClassName\": \"io.amichne.konditional.serialization.ConsumerConfigurationLifecycleTest$UserSettings\",\n            \"value\": {\n              \"enabled\": false,\n              \"maxRetries\": 5.0,\n              \"theme\": \"dark\",\n              \"timeoutSeconds\": 10.0\n            }\n          },\n          \"rampUp\": 100.0,\n          \"note\": \"Custom settings for iOS\",\n          \"locales\": [],\n          \"platforms\": [\n            \"IOS\"\n          ],\n          \"versionRange\": {\n            \"type\": \"UNBOUNDED\"\n          }\n        }\n      ]\n    }\n  ]\n}\n</code></pre> <p>:::</p>"},{"location":"remote-config/","title":"Remote Configuration","text":"<p>Konditional supports dynamic configuration via JSON, but treats JSON as a trust boundary:</p> <ul> <li>compile-time guarantees apply to statically-defined flags and rules</li> <li>runtime JSON is accepted only after validation (<code>ParseResult.Success</code>), otherwise rejected (<code>ParseResult.Failure</code>)</li> </ul>"},{"location":"remote-config/#the-lifecycle-end-to-end","title":"The lifecycle (end-to-end)","text":"<pre><code>flowchart LR\n    Code[\"Flags defined in code\"] --&gt; Snap[\"namespace.toJson()\"]\n    Snap --&gt; Json[\"JSON snapshot\"]\n    Json --&gt; Parse[\"namespace.fromJson(json)\"]\n    Parse --&gt;|Success| Load[\"Loads into namespace\"]\n    Parse --&gt;|Failure| Reject[\"Keep last-known-good + log\"]\n    Load --&gt; Eval[\"Evaluation uses active snapshot\"]\n    style Load fill: #c8e6c9\n    style Reject fill: #ffcdd2</code></pre>"},{"location":"remote-config/#prerequisite-features-must-be-registered","title":"Prerequisite: features must be registered","text":"<p>Deserialization can only succeed for features that exist in the process. In practice, this means your <code>Namespace</code> objects must be initialized (so features are registered) before you call <code>SnapshotSerializer.fromJson(...)</code>.</p> <p>If a snapshot references a feature that has not been registered yet, deserialization fails with <code>ParseError.FeatureNotFound</code>.</p> <p>One simple pattern is to reference your namespaces at application startup (t0):</p> <pre><code>object Payments : Namespace(\"payments\") {\n    val applePay by boolean(default = false)\n}\n\nval _ = Payments // ensure registration at startup (t0)\n</code></pre>"},{"location":"remote-config/#exporting-configuration","title":"Exporting configuration","text":"<pre><code>val json = Payments.toJson()\n</code></pre> <p>Use this when you want to externalize a namespace\u2019s current configuration state into JSON for storage or transport.</p>"},{"location":"remote-config/#loading-configuration-validated-boundary","title":"Loading configuration (validated boundary)","text":"<pre><code>val json = File(\"flags.json\").readText()\nwhen (val result = Payments.fromJson(json)) {\n    is ParseResult.Success -&gt; Unit // loaded into Payments\n    is ParseResult.Failure -&gt; handleError(result.error)\n}\n</code></pre> <p>The contract is explicit:</p> <ul> <li>Success means you have a type-correct, internally consistent snapshot representation (validated at the boundary).</li> <li>Failure means the payload is rejected before it can affect evaluation.</li> </ul>"},{"location":"remote-config/#incremental-updates-via-patching","title":"Incremental updates via patching","text":"<pre><code>val currentConfig = Payments.configuration\nwhen (val result = SnapshotSerializer.applyPatchJson(currentConfig, patchJson)) {\n    is ParseResult.Success -&gt; Payments.load(result.value)\n    is ParseResult.Failure -&gt; handleError(result.error)\n}\n</code></pre> <p>This supports applying incremental JSON updates, then atomically swapping the active configuration via <code>Namespace.load</code>.</p>"},{"location":"remote-config/#error-handling-model-parseresult","title":"Error handling model (<code>ParseResult</code>)","text":"<p>Remote configuration is designed to force explicit handling of invalid input:</p> <pre><code>sealed interface ParseResult&lt;out T&gt; {\n    data class Success&lt;T&gt;(val value: T) : ParseResult&lt;T&gt;()\n    data class Failure(val error: ParseError) : ParseResult&lt;Nothing&gt;()\n}\n</code></pre> <p>Operationally, treat failures as non-fatal: keep last-known-good configuration, log for alerting, and retry on the next update.</p>"},{"location":"remote-config/#hot-reload-semantics-atomicity","title":"Hot-reload semantics (atomicity)","text":"<p><code>Namespace.load(newConfiguration)</code> applies updates with atomic replacement semantics:</p> <ul> <li>readers see either the old snapshot or the new snapshot</li> <li>readers never see a partially-applied configuration</li> </ul> <p>This aligns with the evaluation model documented in \"Evaluation\".</p>"},{"location":"remote-config/#lenient-deserialization-forward-compatibility","title":"Lenient deserialization (forward compatibility)","text":"<p>During migrations, you may prefer to skip unknown keys instead of failing the entire snapshot:</p> <pre><code>val options = SnapshotLoadOptions.skipUnknownKeys { warning -&gt;\n    log.warn(\"Skipping unknown key: ${warning.key}\")\n}\n\nwhen (val result = SnapshotSerializer.fromJson(json, options)) {\n    is ParseResult.Success -&gt; Payments.load(result.value)\n    is ParseResult.Failure -&gt; handleError(result.error)\n}\n</code></pre> <p>This preserves strict correctness by default while enabling operationally-safe forward compatibility when needed.</p>"},{"location":"remote-config/#versioning-metadata-audit-rollback","title":"Versioning metadata (audit + rollback)","text":"<p>Snapshots optionally carry <code>meta</code> fields (version, timestamp, source). You can also attach metadata after parsing:</p> <pre><code>when (val result = SnapshotSerializer.fromJson(json)) {\n    is ParseResult.Success -&gt; Payments.load(\n        result.value.withMetadata(\n            version = \"rev-123\",\n            source = \"s3://configs/global.json\",\n        )\n    )\n    is ParseResult.Failure -&gt; handleError(result.error)\n}\n</code></pre> <p>Registries keep a bounded history of prior configurations for operational rollback:</p> <pre><code>val rolledBack: Boolean = Payments.rollback(steps = 1)\nval history = Payments.historyMetadata\n</code></pre>"},{"location":"remote-config/#whats-validated-and-what-is-not","title":"What\u2019s validated (and what is not)","text":"<p>Validated at the boundary:</p> <ul> <li>JSON syntax validity</li> <li>schema/structure validity</li> <li>value type checking against declared feature types</li> </ul> <p>Not validated by the type system:</p> <ul> <li>semantic correctness (e.g., whether 50% is the intended ramp-up)</li> <li>business correctness (e.g., whether the targeted segment is correct)</li> </ul>"},{"location":"remote-config/#integration-patterns","title":"Integration patterns","text":""},{"location":"remote-config/#polling","title":"Polling","text":"<pre><code>while (running) {\n    val json = fetchFromServer()\n    when (val result = SnapshotSerializer.fromJson(json)) {\n        is ParseResult.Success -&gt; Payments.load(result.value)\n        is ParseResult.Failure -&gt; log.error(\"Config parse failed: ${result.error}\")\n    }\n    delay(pollInterval)\n}\n</code></pre>"},{"location":"remote-config/#push-based-streams","title":"Push-based (streams)","text":"<pre><code>configStream.collect { json -&gt;\n    when (val result = SnapshotSerializer.fromJson(json)) {\n        is ParseResult.Success -&gt; Payments.load(result.value)\n        is ParseResult.Failure -&gt; log.error(\"Config parse failed: ${result.error}\")\n    }\n}\n</code></pre>"},{"location":"remote-config/#where-kontracts-fits","title":"Where Kontracts fits","text":"<p>Konditional uses Kontracts (a standalone, zero-dependency JSON Schema DSL) for schema validation of configuration payloads.</p>"},{"location":"remote-config/#next-steps","title":"Next steps","text":"<ul> <li>Understand the \u201cif it compiles\u201d claim boundary: \"Theory\"</li> <li>Understand bucketing determinism inputs: \"Targeting &amp; Ramp-ups\"</li> <li>See the concrete snapshot/patch payload shapes: \"Persistence &amp; Storage Format\"</li> </ul>"},{"location":"targeting-ramp-ups/","title":"Targeting &amp; Ramp-ups","text":"<p>Rules let you target specific contexts and ramp up behavior safely. A rule is a typed mapping:</p> <pre><code>criteria(context) -&gt; value\n</code></pre> <p>Two properties define how rules behave:</p> <ul> <li>AND semantics within a rule: all specified criteria must match.</li> <li>Specificity ordering across rules: the most specific matching rule wins.</li> </ul>"},{"location":"targeting-ramp-ups/#criteria-you-can-combine","title":"Criteria you can combine","text":""},{"location":"targeting-ramp-ups/#platform","title":"Platform","text":"<pre><code>val apiEndpoint by string&lt;Context&gt;(default = \"https://api.example.com\") {\n    rule(\"https://api-ios.example.com\") { platforms(Platform.IOS) }\n    rule(\"https://api-android.example.com\") { platforms(Platform.ANDROID) }\n    rule(\"https://api-web.example.com\") { platforms(Platform.WEB) }\n}\n</code></pre> <p>Multiple platforms combine as OR:</p> <pre><code>rule(\"mobile value\") { platforms(Platform.IOS, Platform.ANDROID) }\n</code></pre>"},{"location":"targeting-ramp-ups/#locale","title":"Locale","text":"<pre><code>val welcomeMessage by string&lt;Context&gt;(default = \"Hello!\") {\n    rule(\"Welcome!\") { locales(AppLocale.UNITED_STATES, AppLocale.CANADA) }\n    rule(\"Bienvenue!\") { locales(AppLocale.FRANCE) }\n    rule(\"\u3088\u3046\u3053\u305d!\") { locales(AppLocale.JAPAN) }\n}\n</code></pre>"},{"location":"targeting-ramp-ups/#axis-custom-dimensions","title":"Axis (custom dimensions)","text":"<p>Axis values let you target custom dimensions (environment, tenant, region, etc.):</p> <pre><code>enum class Environment(override val id: String) : AxisValue&lt;Environment&gt; {\n    PROD(\"prod\"),\n    STAGE(\"stage\"),\n    DEV(\"dev\"),\n}\n\nobject Axes {\n    object Environment : Axis&lt;Environment&gt;(\"environment\", Environment::class)\n}\n\nval newUi by boolean&lt;Context&gt;(default = false) {\n    rule(true) { axis(Environment.PROD) }\n}\n</code></pre> <p>Axis ids are serialized into configuration snapshots. Keep them stable and explicit; avoid relying on implicit ids derived from class names if you use code shrinking/obfuscation.</p>"},{"location":"targeting-ramp-ups/#version-ranges","title":"Version ranges","text":"<pre><code>val newUi by boolean&lt;Context&gt;(default = false) {\n    rule(true) { versions { min(2, 0, 0) } }\n}\n</code></pre> <pre><code>val legacySupport by boolean&lt;Context&gt;(default = false) {\n    rule(true) { versions { max(2, 0, 0) } }\n}\n</code></pre>"},{"location":"targeting-ramp-ups/#percentage-ramp-up","title":"Percentage ramp-up","text":"<pre><code>val newCheckout by boolean&lt;Context&gt;(default = false) {\n    rule(true) { rampUp { 10.0 } }\n}\n</code></pre> <p>Ramp-ups are deterministic: the same <code>(stableId, flagKey, salt)</code> produces the same bucket assignment.</p>"},{"location":"targeting-ramp-ups/#ramp-up-allowlisting-internal-testers","title":"Ramp-up allowlisting (internal testers)","text":"<p>Allowlists bypass ramp-up after a rule matches by criteria:</p> <pre><code>val newUi by boolean&lt;Context&gt;(default = false) {\n    allowlist(StableId.of(\"tester-1\")) // flag-scope allowlist\n    rule(true) { rampUp { 5.0 } }\n}\n</code></pre> <p>Rule-scoped allowlists are also supported:</p> <pre><code>rule(true) {\n    rampUp { 5.0 }\n    allowlist(StableId.of(\"tester-1\"))\n}\n</code></pre>"},{"location":"targeting-ramp-ups/#custom-predicates-via-extension","title":"Custom predicates via <code>extension { }</code>","text":"<pre><code>val ADVANCED_ANALYTICS by boolean&lt;EnterpriseContext&gt;(default = false) {\n    rule(true) {\n        extension { subscriptionTier == SubscriptionTier.ENTERPRISE &amp;&amp; employeeCount &gt; 100 }\n    }\n}\n</code></pre>"},{"location":"targeting-ramp-ups/#and-semantics-inside-a-rule","title":"AND semantics inside a rule","text":"<p>All criteria in a rule must match:</p> <pre><code>val premiumFeature by boolean&lt;Context&gt;(default = false) {\n    rule(true) {\n        platforms(Platform.IOS, Platform.ANDROID)\n        locales(AppLocale.UNITED_STATES)\n        versions { min(2, 0, 0) }\n        rampUp { 50.0 }\n    }\n}\n</code></pre> <pre><code>flowchart TD\n  Ctx[\"Context\"] --&gt; P{Platform match?}\n  P --&gt;|No| Skip[\"Rule fails\"]\n  P --&gt;|Yes| L{Locale match?}\n  L --&gt;|No| Skip\n  L --&gt;|Yes| V{Version match?}\n  V --&gt;|No| Skip\n  V --&gt;|Yes| R{Ramp-up bucket in range?}\n  R --&gt;|No| Skip\n  R --&gt;|Yes| Win[\"Rule matches\"]\n  style Win fill:#c8e6c9\n  style Skip fill:#ffcdd2</code></pre>"},{"location":"targeting-ramp-ups/#specificity-which-rule-wins","title":"Specificity: which rule wins","text":"<p>Konditional orders rules by specificity before evaluating them. Specificity is the count of criteria present on a rule:</p> <pre><code>specificity(rule):\n  +1 if platforms is set\n  +1 if locales is set\n  +1 if versions has bounds\n  +N for axis constraints (one per axis)\n  +extensionSpecificity (defaults to 1 when `extension { ... }` is used)\n</code></pre> <p>Rules are evaluated in descending specificity; the first rule whose criteria all match determines the value. If no rules match, the default is returned.</p> <p>If multiple rules have the same specificity, their original insertion order is used as the tie-breaker.</p> <pre><code>flowchart TD\n  Rules[\"Rule set\"] --&gt; Sort[\"Sort by specificity (desc)\"]\n  Sort --&gt; Loop[\"Evaluate rules in order\"]\n  Loop --&gt;|First match| Value[\"Return rule value\"]\n  Loop --&gt;|No match| Default[\"Return default\"]\n  style Value fill:#c8e6c9\n  style Default fill:#fff3cd</code></pre>"},{"location":"targeting-ramp-ups/#deterministic-ramp-up-bucketing-sha-256","title":"Deterministic ramp-up bucketing (SHA-256)","text":"<p>Ramp-ups are computed locally. The bucketing input is stable and per-flag:</p> <pre><code>input = \"$salt:$flagKey:${stableIdHex}\"\nhash = sha256(input)\nbucket = uint32(hash[0..3]) % 10_000 // [0, 10_000)\n</code></pre> <p>This yields three operational properties:</p> <ul> <li>Deterministic: same inputs \u2192 same bucket</li> <li>Per-flag isolation: changing one flag does not affect other flags\u2019 buckets</li> <li>Salt-controlled redistribution: changing <code>salt</code> re-buckets users for that flag</li> </ul> <p>Ramp-up checks are performed in basis points:</p> <pre><code>thresholdBasisPoints = round(rampUpPercent * 100) // 0..10_000\ninRampUp = bucket &lt; thresholdBasisPoints\n</code></pre> <pre><code>flowchart TD\n  Salt[\"salt\"] --&gt; In[\"salt:flagKey:stableIdHex\"]\n  Key[\"flagKey\"] --&gt; In\n  Id[\"stableIdHex\"] --&gt; In\n  In --&gt; H[\"SHA-256\"]\n  H --&gt; M[\"uint32(hash[0..3]) mod 10,000\"]\n  M --&gt; T{\"bucket &lt; rampUpBasisPoints ?\"}\n  T --&gt;|Yes| Enabled[\"In ramp-up\"]\n  T --&gt;|No| Disabled[\"Out of ramp-up\"]\n  style Enabled fill:#c8e6c9\n  style Disabled fill:#ffcdd2</code></pre>"},{"location":"targeting-ramp-ups/#next-steps","title":"Next steps","text":"<ul> <li>Understand evaluation flow and performance: \"Evaluation\"</li> <li>Understand the compile-time vs runtime boundary: \"Theory\"</li> </ul>"},{"location":"theory/","title":"Theory: What \u201cIf it compiles, it works\u201d means","text":"<p>Konditional\u2019s core claim is intentionally narrow and testable: for statically-defined flags and rules, the compiler enforces type correctness and evaluation is non-null. When configuration crosses the JSON boundary, correctness is established via validation and explicit error handling (<code>ParseResult</code>), not via compile-time guarantees.</p> <pre><code>flowchart LR\n    Code[\"Flags + rules defined in code\"] --&gt; CT[\"Compile-time guarantees\"]\n    CT --&gt; Eval[\"Evaluation returns typed, non-null values\"]\n    Json[\"JSON payload\"] --&gt; RT[\"Runtime validation boundary\"]\n    RT --&gt;|Success| Load[\"Namespace.load(configuration)\"]\n    RT --&gt;|Failure| Reject[\"Reject before evaluation\"]\n    style CT fill: #e1f5ff\n    style RT fill: #fff3cd\n    style Reject fill: #ffcdd2</code></pre>"},{"location":"theory/#the-three-failures-of-stringly-typed-flags","title":"The three failures of stringly-typed flags","text":"<p>Traditional flag systems are stringly-typed: a string key selects a value and the caller chooses a typed getter. That architecture introduces three classes of runtime failure:</p> <ol> <li>Key mismatch: <code>\"dark_mode\"</code> vs <code>\"darkMode\"</code> silently returns a default or null.</li> <li>Type mismatch: retrieving a boolean flag as a string is syntactically valid but semantically wrong.</li> <li>Null propagation: missing configurations surface as <code>null</code> and leak into business logic.</li> </ol> <p>Konditional targets this gap: prevent categories of runtime failure by moving key/type binding into the type system.</p>"},{"location":"theory/#mechanism-1-property-delegation-binds-identity-type","title":"Mechanism 1: Property delegation binds identity + type","text":"<p>Flags are delegated properties on a <code>Namespace</code>:</p> <pre><code>object AppFeatures : Namespace(\"app\") {\n    val darkMode by boolean(default = false)\n    val timeout by double(default = 30.0)\n    val maxRetries by integer(default = 3)\n}\n</code></pre> <p>Because the delegate (<code>boolean</code>, <code>double</code>, <code>integer</code>, \u2026) determines the type parameter, the compiler knows the declared type at the definition site and carries it forward.</p> <p>Guarantee: the declared type of a feature is statically known and cannot drift without code changes the compiler re-checks.</p>"},{"location":"theory/#mechanism-2-rule-return-types-are-constrained","title":"Mechanism 2: Rule return types are constrained","text":"<p>Rules must return a value of the feature\u2019s declared type:</p> <pre><code>val timeout by double(default = 30.0) {\n    rule(45.0) { platforms(Platform.ANDROID) }\n}\n</code></pre> <p>Guarantee: statically-defined rule return values are type-checked at compile time.</p> <p>Boundary: this applies to rules defined in code; JSON-loaded configurations are validated at the parse boundary.</p>"},{"location":"theory/#mechanism-3-evaluation-site-preserves-the-concrete-type","title":"Mechanism 3: Evaluation site preserves the concrete type","text":"<p>Evaluation preserves the type parameter from definition to usage:</p> <pre><code>val ctx = Context(\n    locale = AppLocale.UNITED_STATES,\n    platform = Platform.IOS,\n    appVersion = Version.of(2, 1, 0),\n    stableId = StableId.of(\"user-123\"),\n)\n\nval isDarkMode: Boolean = AppFeatures.darkMode.evaluate(ctx)\nval timeout: Double = AppFeatures.timeout.evaluate(ctx)\n</code></pre> <p>Guarantee: no casts are required at call sites; incompatible assignments are compile errors.</p>"},{"location":"theory/#mechanism-4-required-defaults-eliminate-nulls","title":"Mechanism 4: Required defaults eliminate nulls","text":"<p>Every feature requires a default:</p> <pre><code>val darkMode by boolean(default = false)\n</code></pre> <p>Guarantee: evaluation is total\u2014if no rules match, the default is returned\u2014and does not return null.</p>"},{"location":"theory/#mechanism-5-namespace-isolation-is-structural","title":"Mechanism 5: Namespace isolation is structural","text":"<p>Namespaces have separate registries, and features are type-bound to their namespace:</p> <pre><code>sealed class AppDomain(id: String) : Namespace(id) {\n    data object Auth : AppDomain(\"auth\") {\n        val socialLogin by boolean&lt;Context&gt;(default = false)\n    }\n\n    data object Payments : AppDomain(\"payments\") {\n        val applePay by boolean&lt;Context&gt;(default = false)\n    }\n}\n</code></pre> <p>Guarantee: feature key collisions across namespaces cannot occur (separate registries bound at the type level).</p> <p>Boundary: defining conflicting keys within the same namespace is a design error detected at namespace initialization (duplicate feature ids are rejected during registration).</p>"},{"location":"theory/#the-trust-boundary-runtime-json","title":"The trust boundary: runtime JSON","text":"<p>When configuration is loaded from JSON, compile-time guarantees necessarily end. Konditional establishes correctness at the boundary:</p> <pre><code>val json = File(\"flags.json\").readText()\nwhen (val result = AppFeatures.fromJson(json)) {\n    is ParseResult.Success -&gt; Unit // loaded into AppFeatures\n    is ParseResult.Failure -&gt; logError(\"Parse failed: ${result.error}\")\n}\n</code></pre> <p>The guarantee is qualified:</p> <ul> <li>Guaranteed: invalid JSON is detected and rejected before it can affect evaluation.</li> <li> <p>Precondition: the features referenced by the JSON must be registered (i.e., your <code>Namespace</code> objects have   been initialized).</p> </li> <li> <p>Not guaranteed: Semantic correctness of the configuration (ramp-up percentage, targeting intent, business   correctness).</p> </li> </ul>"},{"location":"theory/#summary-what-is-guaranteed-vs-what-is-not","title":"Summary: what is guaranteed vs what is not","text":"Claim Guarantee level Mechanism No typos in flag keys Compile-time property access, not strings Return type matches definition Compile-time generic type propagation Rule return types are correct Compile-time constrained rule DSL Evaluation is never null Compile-time required defaults Namespace isolation Compile-time type-bound containers + separate registries Remote config type safety Runtime (validated boundary) <code>ParseResult.Success</code> / <code>Failure</code> Semantic correctness of configs Not guaranteed human/process responsibility"},{"location":"theory/#next-steps","title":"Next steps","text":"<ul> <li>See the runtime boundary mechanics: \"Remote Configuration\"</li> <li>See deterministic behavior and concurrency claims in practice: \"Evaluation\"</li> </ul>"},{"location":"why-konditional/","title":"Why Konditional Exists","text":""},{"location":"why-konditional/#the-problem","title":"The Problem","text":"<p>Feature flags and configuration systems seem simple until they bite you in production. Here's what actually happens:</p>"},{"location":"why-konditional/#string-keyed-systems-create-invisible-failure-modes","title":"String-keyed systems create invisible failure modes","text":"<pre><code>// Somewhere in onboarding code\nval newFlow = flagClient.getBool(\"new_onboaring_flow\", false)  // typo\n\n// Somewhere in analytics\ntrack(\"new_onboarding_flow_completed\")  // correct spelling\n\n// Somewhere in config JSON\n{ \"new_onboarding_flow\": true }  // correct spelling\n</code></pre> <p>The typo ships. The flag never activates. Your A/B test runs for weeks with 0% treatment. Nobody notices until you check the results.</p> <p>String keys fail silently. The compiler can't help you. Your IDE can't help you. You find out in production or in post-mortems.</p>"},{"location":"why-konditional/#boolean-only-systems-turn-into-boolean-matrices","title":"Boolean-only systems turn into boolean matrices","text":"<p>You start clean:</p> <pre><code>enum class Capability {\n    NEW_CHECKOUT\n}\n</code></pre> <p>Then you need variants:</p> <pre><code>enum class Capability {\n    NEW_CHECKOUT,\n    NEW_CHECKOUT_V2,\n    NEW_CHECKOUT_V3,\n    CHECKOUT_FAST_PATH,\n    CHECKOUT_STRIPE_INTEGRATION\n}\n\n// And now your code looks like:\nif (isEnabled(NEW_CHECKOUT) &amp;&amp; !isEnabled(NEW_CHECKOUT_V2)) {\n    // original new checkout\n} else if (isEnabled(NEW_CHECKOUT_V2) &amp;&amp; !isEnabled(CHECKOUT_FAST_PATH)) {\n    // v2 without fast path\n} else if (isEnabled(NEW_CHECKOUT_V3) || isEnabled(CHECKOUT_FAST_PATH)) {\n    // ... which logic wins?\n}\n</code></pre> <p>Boolean-only forces you to encode variants as control flow. Every combination requires explicit handling. Testing becomes exponential. Bugs hide in interactions.</p>"},{"location":"why-konditional/#each-team-reimplements-ramp-up-logic-differently","title":"Each team reimplements ramp-up logic differently","text":"<p>The account team implements ramp-ups with modulo arithmetic. The payments team uses random number generators. The growth team copies some Stack Overflow answer. Each has different edge cases:</p> <ul> <li>Do they bucket consistently for the same user?</li> <li>Can you replay decisions deterministically in logs?</li> <li>Does the same user get the same experience on web and mobile?</li> <li>What happens when you change the percentage?</li> </ul> <p>Inconsistent ramp-up semantics create A/B testing landmines. Results become untrustworthy. Debugging requires reading five different implementations.</p>"},{"location":"why-konditional/#type-safety-disappears-at-the-boundary","title":"Type safety disappears at the boundary","text":"<pre><code>// You define this\nval maxRetries: Int = flagClient.getInt(\"max_retries\", 3)\n\n// Someone deploys this\n{ \"max_retries\": \"five\" }\n\n// Production gets this\nmaxRetries = 0  // or throws, or returns default, depends on the SDK\n</code></pre> <p>Runtime configuration breaks compile-time contracts. JSON is stringly-typed. Your code expects ints. The gap causes incidents.</p>"},{"location":"why-konditional/#what-konditional-does-differently","title":"What Konditional Does Differently","text":"<p>Konditional makes three structural commitments:</p> <ol> <li>Flags are properties, not strings \u2014 keys are bound at compile-time</li> <li>Types flow from definitions to callsites \u2014 no type casting or runtime coercion</li> <li>One evaluation semantics for the entire codebase \u2014 centralized, deterministic, testable</li> </ol> <pre><code>enum class CheckoutVariant { CLASSIC, OPTIMIZED, EXPERIMENTAL }\n\nobject AppFlags : Namespace(\"app\") {\n    val checkoutVariant by enum&lt;CheckoutVariant, Context&gt;(default = CheckoutVariant.CLASSIC) {\n        rule(CheckoutVariant.OPTIMIZED) { platforms(Platform.IOS, Platform.ANDROID) }\n        rule(CheckoutVariant.EXPERIMENTAL) { rampUp { 50.0 } }\n    }\n\n    val maxRetries by integer&lt;Context&gt;(default = 3) {\n        rule(5) { platforms(Platform.WEB) }\n    }\n}\n\n// Usage\nval checkoutVariant: CheckoutVariant = AppFlags.checkoutVariant.evaluate(ctx)  // typed, cannot be wrong\nval retries: Int = AppFlags.maxRetries.evaluate(ctx)                           // typed, cannot be wrong\n</code></pre>"},{"location":"why-konditional/#what-you-get","title":"What you get","text":"<p>Typos become compile errors:</p> <pre><code>AppFlags.NEW_ONBOARING_FLOW  // doesn't compile\n</code></pre> <p>Type mismatches become compile errors:</p> <pre><code>val retries: String = AppFlags.maxRetries.evaluate(ctx)  // doesn't compile\n</code></pre> <p>Variants are values, not boolean matrices:</p> <pre><code>when (AppFlags.checkoutVariant.evaluate(ctx)) {\n    CheckoutVariant.CLASSIC -&gt; classicCheckout()\n    CheckoutVariant.OPTIMIZED -&gt; optimizedCheckout()\n    CheckoutVariant.EXPERIMENTAL -&gt; experimentalCheckout()\n}\n</code></pre> <p>Ramp-ups are deterministic and consistent:</p> <pre><code>// Same user, same flag, same percentage \u2192 same bucket\n// SHA-256(\"$salt:$flagKey:${stableId.hexId}\") determines bucket\n// No random numbers, no modulo edge cases, reproducible in logs\n</code></pre> <p>Configuration boundaries are explicit:</p> <pre><code>when (val result = AppFlags.fromJson(remoteConfig)) {\n    is ParseResult.Success -&gt; Unit // loaded into AppFlags\n    is ParseResult.Failure -&gt; {\n        // Invalid JSON rejected, last-known-good remains active\n        logError(\"Config parse failed: ${result.error}\")\n    }\n}\n</code></pre> <p>If the payload references unknown or not-yet-registered feature keys, parsing fails (or can be configured to skip unknown keys during migrations).</p>"},{"location":"why-konditional/#comparison-to-alternatives","title":"Comparison to Alternatives","text":"Aspect String-keyed SDKs Enum + boolean capabilities Konditional Typo safety Runtime failure (silent or crash) Compile-time (enum typos caught) Compile-time (property references) Type safety Runtime coercion (often unsafe) Boolean only Compile-time types (Boolean/String/Int/Double/Enum/custom) Variants Supported but runtime-typed Requires multiple booleans + control flow First-class typed values Ramp-up logic SDK-dependent, varies Reimplemented per domain/team Centralized, deterministic (SHA-256 bucketing) Evaluation semantics SDK-defined, often opaque Ad-hoc per evaluator (account, card, merchant, etc.) Single DSL with specificity ordering Configuration drift Implicit boundary, often fails silently Ad-hoc validation per evaluator Explicit <code>ParseResult</code> boundary, rejects invalid JSON Null/missing values Depends on SDK (null, exception, or default) Depends on implementation Total evaluation (defaults required, no null returns) Testing Mock SDK or replay config snapshots Mock evaluators or stub booleans Evaluate against typed contexts (deterministic, no mocks needed) Consistency Depends on SDK discipline and process Depends on how many evaluators you maintain One rule DSL, one evaluation engine, one set of semantics"},{"location":"why-konditional/#why-this-matters","title":"Why This Matters","text":""},{"location":"why-konditional/#for-engineers-writing-features","title":"For engineers writing features","text":"<ul> <li>Autocomplete works: Your IDE shows available flags. You can't reference flags that don't exist.</li> <li>Types flow: Return types are known at compile-time. No casting, no runtime surprises.</li> <li>Refactoring is safe: Rename a flag property and all callsites update. No grep-and-hope.</li> </ul>"},{"location":"why-konditional/#for-teams-running-experiments","title":"For teams running experiments","text":"<ul> <li>Ramp-ups are reproducible: Same user always gets same bucket. You can replay decisions from logs.</li> <li>Percentages are stable: Increasing 10% \u2192 20% only adds users for the same <code>(stableId, flagKey, salt)</code>.</li> <li>Targeting is consistent: Platform/locale/version targeting works the same across all flags.</li> </ul>"},{"location":"why-konditional/#for-systems-that-grow","title":"For systems that grow","text":"<ul> <li>No boolean explosion: Variants are values, not combinatorial boolean checks.</li> <li>No evaluation logic duplication: One DSL, one evaluation engine, shared across all domains.</li> <li>Clear boundaries: Compile-time correctness for definitions. Runtime validation for remote config. No blurred   lines.</li> </ul>"},{"location":"why-konditional/#when-konditional-fits","title":"When Konditional Fits","text":"<p>Choose Konditional when:</p> <ul> <li>You want compile-time correctness for flag definitions and callsites</li> <li>You need typed values beyond on/off booleans (variants, thresholds, configuration)</li> <li>You value consistency over bespoke per-domain solutions</li> <li>You run experiments and need deterministic, reproducible ramp-ups</li> <li>You have remote configuration and want explicit validation boundaries</li> </ul> <p>Konditional might not fit if:</p> <ul> <li>You need vendor-hosted dashboards more than you need compile-time safety</li> <li>Your flags are fully dynamic with zero static definitions (though you can still use Konditional for the static   subset)</li> <li>You're okay with process and tooling to prevent string key drift (code review, linters, integration tests)</li> </ul>"},{"location":"why-konditional/#the-three-models-at-a-glance","title":"The Three Models at a Glance","text":"Approach Key/Definition Evaluation Result Main Trade-off String-based <code>\"flag-name\"</code> <code>getVal/...</code> Value (runtime) Flexibility vs. runtime safety Enum-bool <code>enum Capability</code> <code>isEnabled(ctx)</code> Boolean Compile-time keys vs. boolean-only values Konditional Compiled property Rules + default Typed value Static definitions vs. dynamic configuration"},{"location":"why-konditional/#real-problems-konditional-prevents","title":"Real Problems Konditional Prevents","text":""},{"location":"why-konditional/#production-incident-type-coercion","title":"Production incident: Type coercion","text":"<p>A string-keyed SDK returns <code>0</code> when parsing <code>\"max_retries\": \"disabled\"</code> from JSON. The service retries 0 times. All requests fail immediately. Incident lasts 45 minutes.</p> <p>With Konditional: The JSON parse fails at the boundary. <code>ParseResult.Failure</code> is logged. Last-known-good configuration remains active. No incident.</p>"},{"location":"why-konditional/#experiment-contamination-inconsistent-bucketing","title":"Experiment contamination: Inconsistent bucketing","text":"<p>Two teams implement ramp-ups with different hashing. Same user gets opposite buckets for related features. A/B test results are polluted. Experiment analysis is invalid.</p> <p>With Konditional: All ramp-ups use the same deterministic SHA-256 bucketing. Same user, same flag, same bucket. Results are clean.</p>"},{"location":"why-konditional/#maintenance-burden-boolean-explosion","title":"Maintenance burden: Boolean explosion","text":"<p>A feature has 5 boolean flags for variants. Testing requires 2^5 = 32 combinations. Most combinations are undefined. Bugs hide in interactions. Engineers avoid touching the code.</p> <p>With Konditional: One flag, one typed value, explicit variants. Testing covers defined cases. Code is readable.</p>"},{"location":"why-konditional/#configuration-drift-silent-deployment","title":"Configuration drift: Silent deployment","text":"<p>Someone changes <code>\"new_onboarding_flow\"</code> to <code>\"new_onboarding_experience\"</code> in the remote config. Half the codebase uses the old key, half uses the new key. Ramp-up percentage splits across both. Metrics are nonsense.</p> <p>With Konditional: Flag keys are derived from property names. Renaming the property updates all callsites ( compile-time). If remote config still sends the old key, loading fails (or emits a warning if configured to skip unknown keys) instead of silently splitting traffic.</p>"},{"location":"why-konditional/#migration-path","title":"Migration Path","text":"<p>If you're coming from a boolean capability system:</p> <ol> <li> <p>Mirror existing flags as properties on a <code>Namespace</code>:    <pre><code>object Features : Namespace(\"app\") {\n    val featureX by boolean(default = false)\n}\n</code></pre></p> </li> <li> <p>Centralize evaluation logic into rules:    <pre><code>object Features : Namespace(\"app\") {\n    val featureX by boolean(default = false) {\n        rule(true) { platforms(Platform.WEB) }\n        rule(true) { rampUp { 25.0 } }\n    }\n}\n</code></pre></p> </li> <li> <p>Replace boolean matrices with typed values where variants exist:    <pre><code>// Before: CHECKOUT_V1, CHECKOUT_V2, CHECKOUT_V3 (3 booleans)\n// After:\nenum class CheckoutVersion { V1, V2, V3 }\nobject CheckoutFlags : Namespace(\"checkout\") {\n    val checkoutVersion by enum(default = CheckoutVersion.V1) {\n        rule(CheckoutVersion.V2) { rampUp { 33.0 } }\n        rule(CheckoutVersion.V3) { rampUp { 66.0 } }\n    }\n}\n</code></pre></p> </li> <li> <p>Introduce namespaces only if you need independent registries:    <pre><code>sealed class Domain(id: String) : Namespace(id) {\n    data object Account : Domain(\"account\")\n    data object Payments : Domain(\"payments\")\n}\n</code></pre></p> </li> <li> <p>Add remote config with explicit boundaries:    <pre><code>when (val result = Features.fromJson(json)) {\n    is ParseResult.Success -&gt; Unit // loaded into Features\n    is ParseResult.Failure -&gt; keepLastKnownGood()\n}\n</code></pre></p> </li> </ol>"},{"location":"why-konditional/#summary","title":"Summary","text":"<p>Feature flags and configuration aren't just \"nice to have\" features. They're load-bearing infrastructure. When they fail, they fail at scale, in production, with user impact.</p> <p>Konditional exists because stringly-typed systems cause production incidents, boolean-only systems create maintenance nightmares, and inconsistent evaluation semantics make experiments untrustworthy.</p> <p>The solution isn't more process or better code review. The solution is structural: bind types at compile-time, centralize evaluation semantics, and draw explicit boundaries between static definitions and dynamic configuration.</p> <p>That's what Konditional does.</p>"},{"location":"venv/lib/python3.14/site-packages/backrefs-5.9.dist-info/licenses/LICENSE/","title":"LICENSE","text":"<p>The MIT License (MIT)</p> <p>Copyright (c) 2015 - 2025 Isaac Muse</p> <p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p> <p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p> <p>THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>"},{"location":"venv/lib/python3.14/site-packages/httpcore-1.0.9.dist-info/licenses/LICENSE/","title":"LICENSE","text":"<p>Copyright \u00a9 2020, Encode OSS Ltd. All rights reserved.</p> <p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p> <ul> <li> <p>Redistributions of source code must retain the above copyright notice, this   list of conditions and the following disclaimer.</p> </li> <li> <p>Redistributions in binary form must reproduce the above copyright notice,   this list of conditions and the following disclaimer in the documentation   and/or other materials provided with the distribution.</p> </li> <li> <p>Neither the name of the copyright holder nor the names of its   contributors may be used to endorse or promote products derived from   this software without specific prior written permission.</p> </li> </ul> <p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>"},{"location":"venv/lib/python3.14/site-packages/httpx-0.28.1.dist-info/licenses/LICENSE/","title":"LICENSE","text":"<p>Copyright \u00a9 2019, Encode OSS Ltd. All rights reserved.</p> <p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p> <ul> <li> <p>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</p> </li> <li> <p>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</p> </li> <li> <p>Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</p> </li> </ul> <p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>"},{"location":"venv/lib/python3.14/site-packages/idna-3.11.dist-info/licenses/LICENSE/","title":"LICENSE","text":"<p>BSD 3-Clause License</p> <p>Copyright (c) 2013-2025, Kim Davies and contributors. All rights reserved.</p> <p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p> <ol> <li> <p>Redistributions of source code must retain the above copyright    notice, this list of conditions and the following disclaimer.</p> </li> <li> <p>Redistributions in binary form must reproduce the above copyright    notice, this list of conditions and the following disclaimer in the    documentation and/or other materials provided with the distribution.</p> </li> <li> <p>Neither the name of the copyright holder nor the names of its    contributors may be used to endorse or promote products derived from    this software without specific prior written permission.</p> </li> </ol> <p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>"},{"location":"venv/lib/python3.14/site-packages/markdown-3.10.dist-info/licenses/LICENSE/","title":"LICENSE","text":"<p>BSD 3-Clause License</p> <p>Copyright 2007, 2008 The Python Markdown Project (v. 1.7 and later) Copyright 2004, 2005, 2006 Yuri Takhteyev (v. 0.2-1.6b) Copyright 2004 Manfred Stienstra (the original version)</p> <p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p> <ol> <li> <p>Redistributions of source code must retain the above copyright notice, this    list of conditions and the following disclaimer.</p> </li> <li> <p>Redistributions in binary form must reproduce the above copyright notice,    this list of conditions and the following disclaimer in the documentation    and/or other materials provided with the distribution.</p> </li> <li> <p>Neither the name of the copyright holder nor the names of its    contributors may be used to endorse or promote products derived from    this software without specific prior written permission.</p> </li> </ol> <p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>"},{"location":"venv/lib/python3.14/site-packages/mkdocs_get_deps-0.2.0.dist-info/licenses/LICENSE/","title":"LICENSE","text":"<p>MIT License</p> <p>Copyright (c) 2023 Oleh Prypin oleh@pryp.in</p> <p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p> <p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p> <p>THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>"},{"location":"venv/lib/python3.14/site-packages/mkdocs_material_extensions-1.3.1.dist-info/licenses/LICENSE/","title":"LICENSE","text":"<p>MIT License</p> <p>Copyright (c) 2021 Isaac Muse</p> <p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p> <p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p> <p>THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>"},{"location":"venv/lib/python3.14/site-packages/openapidocs/mk/v3/views_markdown/","title":"Views for plain Markdown","text":"<p>This folder contains views to generate output suitable for plain Markdown.</p>"},{"location":"venv/lib/python3.14/site-packages/openapidocs/mk/v3/views_mkdocs/","title":"Views for MkDocs","text":"<p>This folder contains views to generate output suitable for MkDocs, using these extensions from PyMdown:</p> <pre><code>  - pymdownx.details\n  - pymdownx.superfences\n  - pymdownx.tabbed:\n      alternate_style: true\n</code></pre>"},{"location":"venv/lib/python3.14/site-packages/openapidocs/mk/v3/views_plantuml_api/","title":"Views to generate PlantUML API schema","text":"<p>This folder contains views to generate a diagram of the API with request / response bodies for PlantUML.</p>"},{"location":"venv/lib/python3.14/site-packages/openapidocs/mk/v3/views_plantuml_schemas/","title":"Views to generate PlantUML schemas","text":"<p>This folder contains views to generate a class diagram from components schemas, for PlantUML.</p>"},{"location":"venv/lib/python3.14/site-packages/pip/_vendor/idna/LICENSE/","title":"LICENSE","text":"<p>BSD 3-Clause License</p> <p>Copyright (c) 2013-2024, Kim Davies and contributors. All rights reserved.</p> <p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p> <ol> <li> <p>Redistributions of source code must retain the above copyright    notice, this list of conditions and the following disclaimer.</p> </li> <li> <p>Redistributions in binary form must reproduce the above copyright    notice, this list of conditions and the following disclaimer in the    documentation and/or other materials provided with the distribution.</p> </li> <li> <p>Neither the name of the copyright holder nor the names of its    contributors may be used to endorse or promote products derived from    this software without specific prior written permission.</p> </li> </ol> <p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>"},{"location":"venv/lib/python3.14/site-packages/pip-25.3.dist-info/licenses/src/pip/_vendor/idna/LICENSE/","title":"LICENSE","text":"<p>BSD 3-Clause License</p> <p>Copyright (c) 2013-2024, Kim Davies and contributors. All rights reserved.</p> <p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p> <ol> <li> <p>Redistributions of source code must retain the above copyright    notice, this list of conditions and the following disclaimer.</p> </li> <li> <p>Redistributions in binary form must reproduce the above copyright    notice, this list of conditions and the following disclaimer in the    documentation and/or other materials provided with the distribution.</p> </li> <li> <p>Neither the name of the copyright holder nor the names of its    contributors may be used to endorse or promote products derived from    this software without specific prior written permission.</p> </li> </ol> <p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>"},{"location":"venv/lib/python3.14/site-packages/pymdown_extensions-10.19.1.dist-info/licenses/LICENSE/","title":"License","text":""},{"location":"venv/lib/python3.14/site-packages/pymdown_extensions-10.19.1.dist-info/licenses/LICENSE/#pymdown-extensions","title":"PyMdown Extensions","text":"<p>The MIT License (MIT)</p> <p>Copyright (c) 2014 - 2025 Isaac Muse</p> <p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p> <p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p> <p>THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>"},{"location":"venv/lib/python3.14/site-packages/pymdown_extensions-10.19.1.dist-info/licenses/LICENSE/#superfences","title":"SuperFences","text":"<p><code>superfences.py</code> is derived from Python Markdown's fenced_code extension.</p> <pre><code>Fenced Code Extension for Python Markdown\n =========================================\nThis extension adds Fenced Code Blocks to Python-Markdown.\nSee &lt;https://python-markdown.github.io/extensions/fenced_code_blocks/&gt;\nfor documentation.\nOriginal code Copyright 2007-2008 [Waylan Limberg](https://github.com/waylan).\nAll changes Copyright 2008-2014 The Python Markdown Project\nLicense: [BSD](http://www.opensource.org/licenses/bsd-license.php)\n</code></pre>"},{"location":"venv/lib/python3.14/site-packages/pymdown_extensions-10.19.1.dist-info/licenses/LICENSE/#highlight","title":"Highlight","text":"<p><code>highlight.py</code> is derived from Python Markdown's CodeHilite extension.</p> <pre><code>CodeHilite Extension for Python-Markdown\n ========================================\nAdds code/syntax highlighting to standard Python-Markdown code blocks.\nSee &lt;https://python-markdown.github.io/extensions/code_hilite/&gt;\nfor documentation.\nOriginal code Copyright 2006-2008 [Waylan Limberg](https://github.com/waylan).\nAll changes Copyright 2008-2014 The Python Markdown Project\nLicense: [BSD](http://www.opensource.org/licenses/bsd-license.php)\n</code></pre>"},{"location":"venv/lib/python3.14/site-packages/pymdown_extensions-10.19.1.dist-info/licenses/LICENSE/#fancylists","title":"FancyLists","text":"<p><code>fancylists.py</code> is derived from Python Markdown's list handler.</p> <pre><code>Started by Manfred Stienstra (http://www.dwerg.net/).\nMaintained for a few years by Yuri Takhteyev (http://www.freewisdom.org).\nCurrently maintained by Waylan Limberg (https://github.com/waylan),\nDmitry Shachnev (https://github.com/mitya57) and Isaac Muse (https://github.com/facelessuser).\n\nCopyright 2007-2023 The Python Markdown Project (v. 1.7 and later)\nCopyright 2004, 2005, 2006 Yuri Takhteyev (v. 0.2-1.6b)\nCopyright 2004 Manfred Stienstra (the original version)\n\nLicense: [BSD](http://www.opensource.org/licenses/bsd-license.php)\n</code></pre>"},{"location":"venv/lib/python3.14/site-packages/pymdown_extensions-10.19.1.dist-info/licenses/LICENSE/#gemoji-index","title":"Gemoji Index","text":"<p><code>gemoji_db.py</code> is generated from Gemoji's source code: @github/gemoji.</p> <pre><code>Copyright (c) 2013 GitHub, Inc.\n\nPermission is hereby granted, free of charge, to any person\nobtaining a copy of this software and associated documentation\nfiles (the \"Software\"), to deal in the Software without\nrestriction, including without limitation the rights to use,\ncopy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the\nSoftware is furnished to do so, subject to the following\nconditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\nOF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\nHOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\nWHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\nFROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\nOTHER DEALINGS IN THE SOFTWARE.\n</code></pre>"},{"location":"venv/lib/python3.14/site-packages/pymdown_extensions-10.19.1.dist-info/licenses/LICENSE/#emojione-index","title":"EmojiOne Index","text":"<p><code>emoji1_db.py</code> is generated from EmojiOne's source code: @Ranks/emojione</p> <pre><code>EmojiOne Non-Artwork\n\nApplies to the JavaScript, JSON, PHP, CSS, HTML files, and everything else not covered under the artwork license above.\nLicense: MIT\nComplete Legal Terms: http://opensource.org/licenses/MIT\n</code></pre>"},{"location":"venv/lib/python3.14/site-packages/soupsieve-2.8.1.dist-info/licenses/LICENSE/","title":"LICENSE","text":"<p>MIT License</p> <p>Copyright (c) 2018 - 2025 Isaac Muse isaacmuse@gmail.com</p> <p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p> <p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p> <p>THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>"}]}