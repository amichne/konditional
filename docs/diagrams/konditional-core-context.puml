@startuml
' Diagram Systems theme
skinparam shadowing false
skinparam roundcorner 10
skinparam dpi 150
skinparam defaultFontName "Helvetica"
skinparam BackgroundColor #FFFFFF
skinparam ArrowColor #2F2F2F
skinparam LineColor #2F2F2F
skinparam NoteBorderColor #9A3412
skinparam NoteBackgroundColor #FFF7ED
skinparam package {
  BackgroundColor #F1F5F9
  BorderColor #334155
}
skinparam rectangle {
  BackgroundColor #F8FAFC
  BorderColor #1F2937
}
skinparam component {
  BackgroundColor #F8FAFC
  BorderColor #1F2937
}
skinparam database {
  BackgroundColor #E2E8F0
  BorderColor #334155
}
skinparam queue {
  BackgroundColor #E2E8F0
  BorderColor #334155
}
left to right direction
rectangle "App code" as Code
rectangle "Namespace + Feature definitions" as Flags
rectangle "Evaluation engine" as Eval
rectangle "NamespaceRegistry" as Registry
rectangle "Load + rollback" as Load
rectangle "Hooks + metrics" as Hooks
rectangle "Remote config JSON" as Config
rectangle "Load --> Registry" as Load_Registry
rectangle "Eval --> Code" as Eval_Code
package "App["Application"]" {
}
package "Core["Konditional Core"]" {
}
package "Ops["Runtime + Serialization + Observability"]" {
}
Config --> Load_Registry
Flags --> Registry
Code --> Eval
Registry --> Eval_Code
Hooks --> Eval
@enduml
