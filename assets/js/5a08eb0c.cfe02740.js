"use strict";(self.webpackChunkkonditional_docs=self.webpackChunkkonditional_docs||[]).push([[619],{44313(e,n,a){a.r(n),a.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>p,frontMatter:()=>i,metadata:()=>l,toc:()=>d});const l=JSON.parse('{"id":"persistence-format","title":"Persistence & Storage Format","description":"This page documents the JSON formats used to persist and transport Konditional configuration:","source":"@site/docs/persistence-format.md","sourceDirName":".","slug":"/persistence-format","permalink":"/konditional/persistence-format","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"Theory: What \u201cIf it compiles, it works\u201d means","permalink":"/konditional/theory"},"next":{"title":"Why Konditional Exists","permalink":"/konditional/why-konditional"}}');var s=a(86070),t=a(48193);const i={},r="Persistence & Storage Format",o={},d=[{value:"Mental model: what is persisted",id:"mental-model-what-is-persisted",level:2},{value:"FeatureId format (<code>key</code>)",id:"featureid-format-key",level:2},{value:"Value encoding (<code>FlagValue</code>)",id:"value-encoding-flagvalue",level:2},{value:"Version range encoding (<code>versionRange</code>)",id:"version-range-encoding-versionrange",level:2},{value:"Ramp-up allowlists (<code>rampUpAllowlist</code>)",id:"ramp-up-allowlists-rampupallowlist",level:2},{value:"Generic templates (Kotlin-style)",id:"generic-templates-kotlin-style",level:2},{value:"Snapshot template",id:"snapshot-template",level:3},{value:"Patch template",id:"patch-template",level:3},{value:"Parse boundary and failure modes",id:"parse-boundary-and-failure-modes",level:2},{value:"Snapshot metadata (<code>meta</code>)",id:"snapshot-metadata-meta",level:2},{value:"JSON examples",id:"json-examples",level:2}];function c(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",mermaid:"mermaid",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"persistence--storage-format",children:"Persistence & Storage Format"})}),"\n",(0,s.jsx)(n.p,{children:"This page documents the JSON formats used to persist and transport Konditional configuration:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Snapshot"}),": the full configuration payload (",(0,s.jsx)(n.code,{children:"SnapshotSerializer.serialize(...)"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Patch"}),": an incremental update payload (",(0,s.jsx)(n.code,{children:"SnapshotSerializer.applyPatchJson(...)"}),")"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"These formats are intentionally storage-agnostic: you can store the JSON in files, a database, or ship it over the\nnetwork."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"mental-model-what-is-persisted",children:"Mental model: what is persisted"}),"\n",(0,s.jsxs)(n.p,{children:["At persistence time, the library serializes a list of ",(0,s.jsx)(n.strong,{children:"flag definitions"}),":"]}),"\n",(0,s.jsx)(n.mermaid,{value:'flowchart LR\n    Snap[Snapshot JSON] --\x3e Flags["flags: List{SerializableFlag}"]\n    Snap --\x3e Meta["meta: SerializableSnapshotMetadata?"]\n    Flags --\x3e Flag["SerializableFlag"]\n    Flag --\x3e Key["key: FeatureId"]\n    Flag --\x3e Default["defaultValue: FlagValue"]\n    Flag --\x3e Salt["salt: String"]\n    Flag --\x3e Active["isActive: Boolean"]\n    Flag --\x3e FAllow["rampUpAllowlist: Set{String}"]\n    Flag --\x3e Rules\n    Rules --\x3e Rule["SerializableRule"]\n    Rule --\x3e RVal["value: FlagValue"]\n    Rule --\x3e Ramp["rampUp: Double"]\n    Rule --\x3e RAllow["rampUpAllowlist: Set{String}"]\n    Rule --\x3e Note["note: String?"]\n    Rule --\x3e Loc["locales: Set{String}"]\n    Rule --\x3e Plat["platforms: Set{String}"]\n    Rule --\x3e Vr["versionRange: VersionRange?"]\n    Rule --\x3e Axes["axes: Map{String, Set{String}}"]\n'}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h2,{id:"featureid-format-key",children:["FeatureId format (",(0,s.jsx)(n.code,{children:"key"}),")"]}),"\n",(0,s.jsxs)(n.p,{children:["Each flag is stored under a stable ",(0,s.jsx)(n.strong,{children:"FeatureId"})," string:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"feature::${namespaceIdentifierSeed}::${featureKey}\n"})}),"\n",(0,s.jsx)(n.p,{children:"Where:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"${namespaceIdentifierSeed}"})," is ",(0,s.jsx)(n.code,{children:"Namespace.identifierSeed"})," (defaults to the namespace ",(0,s.jsx)(n.code,{children:"id"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"${featureKey}"})," is the feature key (typically the Kotlin property name)"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Example (Global namespace, ",(0,s.jsx)(n.code,{children:"darkMode"}),"):"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"feature::global::darkMode\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Backward compatibility: older snapshots may contain ",(0,s.jsx)(n.code,{children:"value::${namespaceIdentifierSeed}::${featureKey}"}),". These are\nnormalized on load."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h2,{id:"value-encoding-flagvalue",children:["Value encoding (",(0,s.jsx)(n.code,{children:"FlagValue"}),")"]}),"\n",(0,s.jsxs)(n.p,{children:["Both ",(0,s.jsx)(n.code,{children:"defaultValue"})," and each rule\u2019s ",(0,s.jsx)(n.code,{children:"value"})," are encoded as a tagged object:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "type": "BOOLEAN",\n  "value": true\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"Supported shapes:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Kind"}),(0,s.jsx)(n.th,{children:"JSON shape"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Boolean"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:'{ "type": "BOOLEAN", "value": ${boolean} }'})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:'{ "type": "STRING", "value": "${string}" }'})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Int"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:'{ "type": "INT", "value": ${int} }'})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Double"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:'{ "type": "DOUBLE", "value": ${double} }'})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Enum"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:'{ "type": "ENUM", "value": "${enumName}", "enumClassName": "${fqcn}" }'})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Data class"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:'{ "type": "DATA_CLASS", "dataClassName": "${fqcn}", "value": { ...primitive fields... } }'})})]})]})]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"DATA_CLASS"})," representation stores a primitive map of fields along with the fully qualified class name."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h2,{id:"version-range-encoding-versionrange",children:["Version range encoding (",(0,s.jsx)(n.code,{children:"versionRange"}),")"]}),"\n",(0,s.jsxs)(n.p,{children:["Rules may include a ",(0,s.jsx)(n.code,{children:"versionRange"})," object. It uses a discriminator and optional bounds:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "type": "MIN_AND_MAX_BOUND",\n  "min": {\n    "major": 2,\n    "minor": 0,\n    "patch": 0\n  },\n  "max": {\n    "major": 4,\n    "minor": 0,\n    "patch": 0\n  }\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Valid ",(0,s.jsx)(n.code,{children:"type"})," values:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"UNBOUNDED"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"MIN_BOUND"})," (requires ",(0,s.jsx)(n.code,{children:"min"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"MAX_BOUND"})," (requires ",(0,s.jsx)(n.code,{children:"max"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"MIN_AND_MAX_BOUND"})," (requires ",(0,s.jsx)(n.code,{children:"min"})," and ",(0,s.jsx)(n.code,{children:"max"}),")"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Locale and platform values are serialized as their stable ids (",(0,s.jsx)(n.code,{children:"LocaleTag.id"})," / ",(0,s.jsx)(n.code,{children:"PlatformTag.id"}),"). The built-in\n",(0,s.jsx)(n.code,{children:"AppLocale"})," and ",(0,s.jsx)(n.code,{children:"Platform"})," enums use their enum names as ids, so existing snapshots remain stable."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h2,{id:"ramp-up-allowlists-rampupallowlist",children:["Ramp-up allowlists (",(0,s.jsx)(n.code,{children:"rampUpAllowlist"}),")"]}),"\n",(0,s.jsxs)(n.p,{children:["Both flags and individual rules may include a ",(0,s.jsx)(n.code,{children:"rampUpAllowlist"})," field:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["It is a set of ",(0,s.jsx)(n.strong,{children:"stable ID hex strings"})," (the same representation returned by ",(0,s.jsx)(n.code,{children:"Context.stableId.id"}),")."]}),"\n",(0,s.jsxs)(n.li,{children:["It does not force a rule to match; it only bypasses the ramp-up check ",(0,s.jsx)(n.em,{children:"after"})," a rule matches by criteria."]}),"\n",(0,s.jsx)(n.li,{children:"Flag-level and rule-level allowlists are treated as a union (either can bypass ramp-up)."}),"\n",(0,s.jsxs)(n.li,{children:["It does not override ",(0,s.jsx)(n.code,{children:"isActive"})," or the namespace kill-switch (",(0,s.jsx)(n.code,{children:"disableAll"}),")."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"To generate a value for remote config, use the same normalization as the runtime:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-kotlin",children:'val stableIdHex = StableId.of("user-123").id // "757365722d313233"\nval stableIdFromHex = StableId.fromHex(stableIdHex)\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"generic-templates-kotlin-style",children:"Generic templates (Kotlin-style)"}),"\n",(0,s.jsx)(n.h3,{id:"snapshot-template",children:"Snapshot template"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-kotlin",children:'val snapshotJson = """\n{\n  "meta": {\n    "version": "${optionalVersionOrNull}",\n    "generatedAtEpochMillis": ${optionalEpochMillisOrNull},\n    "source": "${optionalSourceOrNull}"\n  },\n  "flags": [\n    {\n      "key": "feature::${namespaceSeed}::${featureKey}",\n      "defaultValue": {\n        "type": "${valueType}",\n        "value": ${defaultValueJson},\n        "...": "${typeSpecificFields}"\n      },\n      "salt": "${salt}",\n      "isActive": ${isActive},\n      "rampUpAllowlist": ["${stableIdHex}", "..."],\n      "rules": [\n        {\n          "value": {\n            "type": "${valueType}",\n            "value": ${ruleValueJson},\n            "...": "${typeSpecificFields}"\n          },\n          "rampUp": ${rampUpPercent},\n          "rampUpAllowlist": ["${stableIdHex}", "..."],\n          "note": "${optionalNoteOrNull}",\n          "locales": ["${APP_LOCALE_ENUM_NAME}", "..."],\n          "platforms": ["${PLATFORM_ENUM_NAME}", "..."],\n          "axes": {\n            "${axisId}": ["${axisValueId}", "..."]\n          },\n          "versionRange": {\n            "type": "${UNBOUNDED|MIN_BOUND|MAX_BOUND|MIN_AND_MAX_BOUND}",\n            "min": { "major": ${minMajor}, "minor": ${minMinor}, "patch": ${minPatch} },\n            "max": { "major": ${maxMajor}, "minor": ${maxMinor}, "patch": ${maxPatch} }\n          }\n        }\n      ]\n    }\n  ]\n}\n"""\n'})}),"\n",(0,s.jsx)(n.h3,{id:"patch-template",children:"Patch template"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-kotlin",children:'val patchJson = """\n{\n  "meta": {\n    "version": "${optionalVersionOrNull}",\n    "generatedAtEpochMillis": ${optionalEpochMillisOrNull},\n    "source": "${optionalSourceOrNull}"\n  },\n  "flags": [\n    { "...": "SerializableFlag objects (same shape as snapshot)" }\n  ],\n  "removeKeys": [\n    "feature::${namespaceSeed}::${featureKeyToRemove}",\n    "feature::${namespaceSeed}::${anotherKey}"\n  ]\n}\n"""\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"parse-boundary-and-failure-modes",children:"Parse boundary and failure modes"}),"\n",(0,s.jsxs)(n.p,{children:["Deserialization reconstructs configurations by looking up each ",(0,s.jsx)(n.code,{children:"key"})," in an internal registry of known features."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["If a key is not registered, parsing fails with ",(0,s.jsx)(n.code,{children:"ParseError.FeatureNotFound"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["JSON syntax/shape errors fail with ",(0,s.jsx)(n.code,{children:"ParseError.InvalidJson"})," / ",(0,s.jsx)(n.code,{children:"ParseError.InvalidSnapshot"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Operationally: treat parse failures as \u201creject update, keep last-known-good\u201d."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h2,{id:"snapshot-metadata-meta",children:["Snapshot metadata (",(0,s.jsx)(n.code,{children:"meta"}),")"]}),"\n",(0,s.jsxs)(n.p,{children:["Snapshots and patches may include an optional ",(0,s.jsx)(n.code,{children:"meta"})," object:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "meta": {\n    "version": "rev-123",\n    "generatedAtEpochMillis": 1700000000000,\n    "source": "s3://configs/global.json"\n  },\n  "flags": []\n}\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"json-examples",children:"JSON examples"}),"\n",(0,s.jsx)(n.p,{children:"Notes:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Incoming JSON may omit fields that have defaults (for example ",(0,s.jsx)(n.code,{children:"rampUpAllowlist"}),", ",(0,s.jsx)(n.code,{children:"locales"}),", ",(0,s.jsx)(n.code,{children:"platforms"}),", ",(0,s.jsx)(n.code,{children:"axes"}),", and\n",(0,s.jsx)(n.code,{children:"versionRange"}),")."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"SnapshotSerializer.serialize(...)"})," emits explicit values for these fields (including empty arrays/objects)."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:":::details Snapshot: booleans + string variants, with version ranges"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "flags": [\n    {\n      "key": "feature::global::darkMode",\n      "defaultValue": { "type": "BOOLEAN", "value": false },\n      "salt": "v1",\n      "isActive": true,\n      "rampUpAllowlist": [],\n      "rules": [\n        {\n          "value": { "type": "BOOLEAN", "value": true },\n          "rampUp": 50.0,\n          "rampUpAllowlist": ["757365722d313233"],\n          "note": "iOS gradual ramp-up",\n          "locales": ["UNITED_STATES"],\n          "platforms": ["IOS"],\n          "axes": {},\n          "versionRange": { "type": "MIN_BOUND", "min": { "major": 2, "minor": 0, "patch": 0 } }\n        }\n      ]\n    },\n    {\n      "key": "feature::global::apiEndpoint",\n      "defaultValue": { "type": "STRING", "value": "https://api.example.com" },\n      "salt": "v1",\n      "isActive": true,\n      "rampUpAllowlist": [],\n      "rules": [\n        {\n          "value": { "type": "STRING", "value": "https://api-ios.example.com" },\n          "rampUp": 100.0,\n          "rampUpAllowlist": [],\n          "note": "iOS endpoint",\n          "locales": [],\n          "platforms": ["IOS"],\n          "axes": {},\n          "versionRange": { "type": "UNBOUNDED" }\n        },\n        {\n          "value": { "type": "STRING", "value": "https://api-android.example.com" },\n          "rampUp": 100.0,\n          "rampUpAllowlist": [],\n          "note": "Android endpoint",\n          "locales": [],\n          "platforms": ["ANDROID"],\n          "axes": {},\n          "versionRange": { "type": "UNBOUNDED" }\n        }\n      ]\n    }\n  ]\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:":::"}),"\n",(0,s.jsx)(n.p,{children:":::details Snapshot: enum value payload"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "flags": [\n    {\n      "key": "feature::global::theme",\n      "defaultValue": {\n        "type": "ENUM",\n        "value": "LIGHT",\n        "enumClassName": "com.example.Theme"\n      },\n      "salt": "v1",\n      "isActive": true,\n      "rampUpAllowlist": [],\n      "rules": [\n        {\n          "value": {\n            "type": "ENUM",\n            "value": "DARK",\n            "enumClassName": "com.example.Theme"\n          },\n          "rampUp": 100.0,\n          "rampUpAllowlist": [],\n          "note": "Dark theme for iOS",\n          "locales": [],\n          "platforms": ["IOS"],\n          "axes": {},\n          "versionRange": { "type": "UNBOUNDED" }\n        }\n      ]\n    }\n  ]\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:":::"}),"\n",(0,s.jsx)(n.p,{children:":::details Patch: update one flag, remove one flag"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "flags": [\n    {\n      "key": "feature::global::darkMode",\n      "defaultValue": { "type": "BOOLEAN", "value": false },\n      "salt": "v1",\n      "isActive": true,\n      "rampUpAllowlist": [],\n      "rules": [\n        {\n          "value": { "type": "BOOLEAN", "value": true },\n          "rampUp": 100.0,\n          "rampUpAllowlist": [],\n          "note": "Ramp-up complete",\n          "locales": [],\n          "platforms": [],\n          "axes": {},\n          "versionRange": { "type": "UNBOUNDED" }\n        }\n      ]\n    }\n  ],\n  "removeKeys": [\n    "feature::global::LEGACY_SUPPORT"\n  ]\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:":::"}),"\n",(0,s.jsx)(n.p,{children:":::details Consumer Configuration Lifecycle Sample"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "flags": [\n    {\n      "key": "feature::consumer-lifecycle-3f02840e-abd0-4447-9bdc-0a8f41ca530e::darkMode",\n      "defaultValue": {\n        "type": "BOOLEAN",\n        "value": false\n      },\n      "salt": "v1",\n      "isActive": true,\n      "rules": [\n        {\n          "value": {\n            "type": "BOOLEAN",\n            "value": true\n          },\n          "rampUp": 100.0,\n          "note": "iOS fully enabled",\n          "locales": [],\n          "platforms": [\n            "IOS"\n          ],\n          "versionRange": {\n            "type": "UNBOUNDED"\n          }\n        }\n      ]\n    },\n    {\n      "key": "feature::consumer-lifecycle-3f02840e-abd0-4447-9bdc-0a8f41ca530e::apiEndpoint",\n      "defaultValue": {\n        "type": "STRING",\n        "value": "https://api.example.com"\n      },\n      "salt": "v1",\n      "isActive": true,\n      "rules": [\n        {\n          "value": {\n            "type": "STRING",\n            "value": "https://api-web.example.com"\n          },\n          "rampUp": 100.0,\n          "note": "Web endpoint override",\n          "locales": [],\n          "platforms": [\n            "WEB"\n          ],\n          "versionRange": {\n            "type": "UNBOUNDED"\n          }\n        }\n      ]\n    },\n    {\n      "key": "feature::consumer-lifecycle-3f02840e-abd0-4447-9bdc-0a8f41ca530e::maxRetries",\n      "defaultValue": {\n        "type": "INT",\n        "value": 3\n      },\n      "salt": "v1",\n      "isActive": true,\n      "rules": [\n        {\n          "value": {\n            "type": "INT",\n            "value": 5\n          },\n          "rampUp": 100.0,\n          "note": "More retries on v2+",\n          "locales": [],\n          "platforms": [],\n          "versionRange": {\n            "type": "MIN_BOUND",\n            "min": {\n              "major": 2,\n              "minor": 0,\n              "patch": 0\n            }\n          }\n        }\n      ]\n    },\n    {\n      "key": "feature::consumer-lifecycle-3f02840e-abd0-4447-9bdc-0a8f41ca530e::theme",\n      "defaultValue": {\n        "type": "ENUM",\n        "value": "LIGHT",\n        "enumClassName": "io.amichne.konditional.serialization.ConsumerConfigurationLifecycleTest$Theme"\n      },\n      "salt": "v1",\n      "isActive": true,\n      "rules": [\n        {\n          "value": {\n            "type": "ENUM",\n            "value": "DARK",\n            "enumClassName": "io.amichne.konditional.serialization.ConsumerConfigurationLifecycleTest$Theme"\n          },\n          "rampUp": 100.0,\n          "note": "Dark theme for FR locale",\n          "locales": [\n            "FRANCE"\n          ],\n          "platforms": [],\n          "versionRange": {\n            "type": "UNBOUNDED"\n          }\n        }\n      ]\n    },\n    {\n      "key": "feature::consumer-lifecycle-3f02840e-abd0-4447-9bdc-0a8f41ca530e::userSettings",\n      "defaultValue": {\n        "type": "DATA_CLASS",\n        "dataClassName": "io.amichne.konditional.serialization.ConsumerConfigurationLifecycleTest$UserSettings",\n        "value": {\n          "enabled": true,\n          "maxRetries": 3.0,\n          "theme": "light",\n          "timeoutSeconds": 30.0\n        }\n      },\n      "salt": "v1",\n      "isActive": true,\n      "rules": [\n        {\n          "value": {\n            "type": "DATA_CLASS",\n            "dataClassName": "io.amichne.konditional.serialization.ConsumerConfigurationLifecycleTest$UserSettings",\n            "value": {\n              "enabled": false,\n              "maxRetries": 5.0,\n              "theme": "dark",\n              "timeoutSeconds": 10.0\n            }\n          },\n          "rampUp": 100.0,\n          "note": "Custom settings for iOS",\n          "locales": [],\n          "platforms": [\n            "IOS"\n          ],\n          "versionRange": {\n            "type": "UNBOUNDED"\n          }\n        }\n      ]\n    }\n  ]\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:":::"})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},48193(e,n,a){a.d(n,{R:()=>i,x:()=>r});var l=a(30758);const s={},t=l.createContext(s);function i(e){const n=l.useContext(t);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),l.createElement(t.Provider,{value:n},e.children)}}}]);