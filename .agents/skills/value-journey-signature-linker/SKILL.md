---
name: value-journey-signature-linker
description: Create and maintain adoption-focused technical documentation that starts from compelling value propositions and user journeys, then links each narrative claim to JVM signatures and tests. Use when writing or updating product narratives, rollout messaging, migration documentation, or implementation guidance that must stay synchronized with `signatures/*.sig` (or `.signatures/*.sig`) and support deterministic claim validation.
---

# Value journey signature linker

## Overview

Use this skill to create documentation that feels persuasive and trustworthy at
once: warm enough to invite adoption, concrete enough to survive scrutiny.

The output should read like modern product documentation, not an audit log.
Evidence is embedded directly in the narrative with compact citations, and
traceability remains machine-checkable in JSON artifacts.

## Primary objective

Produce a portfolio of journey pages that answers three buyer questions across
one or many documents:

1. Why this is worth investing in now.
2. Why this approach is stronger than alternatives.
3. Why the evidence is strong enough to trust in production.

## Required artifacts

Produce these artifacts for each documentation batch:

1. Journey documents (`docs/value-journeys/*.md`) using the template in
   `references/journey_doc_template.md`.
2. A link map (`docs/value-journeys/journey-signature-links.json`) following
   `references/journey_signature_link_schema.md`.
3. A claims registry (`docs/value-journeys/journey-claims.json`) following
   `docs/value-journeys/journey-claims.schema.json`.
4. A validation report (`docs/value-journeys/journey-claims-report.json`)
   generated by `scripts/validate_journey_signature_links.py`.

## Narrative posture

- Write with calm confidence, not hype and not sterile checklist tone.
- Keep technical certainty high while reducing overt "proof theater."
- Prefer implicit credibility: claims supported in-line by citations.
- Keep explicit ledgers available, but they can move to appendices.

## Citation-embedded contract

Use compact claim citations in prose, for example `... deterministic under
stable identity tuples [TH-003-C1].`

Rules:

1. Every non-trivial claim in narrative prose must include at least one claim
   citation token.
2. Citation tokens must map to `journey-claims.json` claim IDs.
3. Signature/test traceability remains in JSON artifacts, even when not shown in
   full on every page.
4. If a page is pitch-oriented, keep heavy evidence details in a linked
   technical companion page.

## Formatting contract (flexible by page)

There is no single required page order. Build pages from modules based on
intent and audience.

Common modules:

- hook/value proposition,
- urgency/why now,
- before/after journey framing,
- alternatives comparison,
- migration risk and operating model,
- adoption signals,
- concise call to action.

Required coverage is across the document set, not each page:

1. Value case and decision framing.
2. Alternative comparison.
3. Citation-backed claims.
4. Adoption path and success metrics.

## Sub-agent orchestration playbook

Use sub-agents when generating multiple pages or audiences.

Suggested roles:

1. Story strategist: defines audience, objections, emotional tone, and page
   arc.
2. Evidence curator: maps claims to signatures, tests, and reliability bounds.
3. Comparison analyst: builds fair baseline/alternative comparisons.
4. Journey composer: drafts narrative pages with embedded citations.
5. Verifier: validates claims/links and checks tone-evidence balance.

Orchestration pattern:

1. Run strategist and evidence curator first.
2. Run comparison analyst in parallel.
3. Feed all outputs to journey composer for multi-page draft synthesis.
4. Run verifier last and resolve citation/link gaps.

## Workflow

1. Ensure signature artifacts exist.
2. Build public-surface bootstrap context.
3. Define target audience set and decision moments.
4. Decide portfolio shape (single page or multi-page journey set).
5. Orchestrate sub-agents for strategy, evidence, and comparison.
6. Draft pages with citation-embedded claims.
7. Keep explicit evidence tables where needed, but avoid forcing them everywhere.
8. Map all cited claims to signatures/tests in JSON artifacts.
9. Validate links and claims.
10. Continue generation with unresolved evidence in `--ci-mode warn` only.

## Storytelling contract

Across the portfolio, answer:

- Why this matters now.
- What changes for users and operators.
- Why this beats common alternatives.
- Why the evidence is credible.
- What success looks like in operations.

## Commands

1. Generate or refresh signatures:

```bash
.agents/skills/llm-native-signature-spec/scripts/generate_signatures.sh --repo-root . --output-dir .signatures
```

2. Build public-surface context:

```bash
.agents/skills/public-surface-init-context/scripts/build_public_surface_context.py --repo-root . --signatures-dir .signatures --output .signatures/PUBLIC_SURFACE.ctx
```

3. Validate journey links and claims in warn mode:

```bash
python3 .agents/skills/value-journey-signature-linker/scripts/validate_journey_signature_links.py \
  --repo-root . \
  --links-file docs/value-journeys/journey-signature-links.json \
  --claims-file docs/value-journeys/journey-claims.json \
  --report-out docs/value-journeys/journey-claims-report.json \
  --signatures-dir .signatures \
  --require-tests \
  --ci-mode warn
```

4. Validate in strict CI mode:

```bash
python3 .agents/skills/value-journey-signature-linker/scripts/validate_journey_signature_links.py \
  --repo-root . \
  --links-file docs/value-journeys/journey-signature-links.json \
  --claims-file docs/value-journeys/journey-claims.json \
  --report-out docs/value-journeys/journey-claims-report.json \
  --signatures-dir .signatures \
  --require-tests \
  --ci-mode strict
```

## Determinism and boundary rules

- Treat journey markdown and JSON files as untrusted boundary input.
- Parse into typed structures before deriving reports.
- Keep ordering stable:
  - unresolved links: `journey_id`, `kind`, `signature`
  - claims: `journey_id`, `claim_id`
- Keep report JSON deterministic (`sort_keys=true`).
- Keep optional comparison rows stable by `dimension`, then `baseline`, then
  `konditional`.
- Do not emit timestamps or random identifiers in generated artifacts.
