# Your First Feature
import GuaranteeBlock from '@site/src/components/GuaranteeBlock';


This guide builds one feature end-to-end: definition, targeting rules, and evaluation.

## 1) Define a namespace and a feature

```kotlin
import io.amichne.konditional.context.*

object AppFeatures : Namespace("app") {
    val darkMode by boolean<Context>(default = false) {
        rule(true) { platforms(Platform.IOS) }
        rule(true) { locales(AppLocale.UNITED_STATES) }
    }
}
```

## 2) Create a context and evaluate

```kotlin
val ctx = Context(
    locale = AppLocale.UNITED_STATES,
    platform = Platform.IOS,
    appVersion = Version.of(2, 0, 0),
    stableId = StableId.of("user-123"),
)

val enabled: Boolean = AppFeatures.darkMode.evaluate(ctx)
```

If no rule matches, the default value is returned.

## What just happened

- A **Namespace** is a registry of features.
- A **Feature** is a typed value with rules.
- A **Rule** is criteria -> value mapping.
- A **Context** provides runtime inputs used by rules.

## Guarantees

<GuaranteeBlock
  label="Non-null values"
  guarantee={`Evaluation always returns a non-null value of the declared type.`}
  mechanism={`Features require a \`default\` value and return it when no rule matches.`}
  boundary={`Konditional does not validate business logic; it only evaluates rules.`}
/>

## Next steps

- Learn the core concepts: [Core Concepts](/fundamentals/core-primitives)
- Understand rule ordering and ramp-ups: [Evaluation Model](/fundamentals/evaluation-semantics)
